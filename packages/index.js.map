{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./allPages.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack:///./node_modules/@babel/runtime/helpers/construct.js","webpack:///./collectVisitorInformation.js","webpack:///./index.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./graph.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./TopBar.js","webpack:///./River.js","webpack:///./addGraphs.js","webpack:///./sort.js","webpack:///./search.js","webpack:///./distance.js","webpack:///./loadUSGS.js","webpack:///./createLegend.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_setPrototypeOf","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr","instance","Constructor","TypeError","_typeof","assertThisInitialized","self","subClass","superClass","constructor","writable","configurable","isNativeFunction","construct","_wrapNativeSuper","Class","_cache","Map","undefined","has","set","Wrapper","arguments","this","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","args","apply","err","require","e","console","tags","document","head","querySelectorAll","length","meta","createElement","content","appendChild","styleSheet","styleSheets","warn","style","documentElement","cssRules","CSSMediaRule","window","darkMode","localStorage","getItem","matchMedia","matches","cssText","darkModeRules","slice","indexOf","split","rule","trim","insertRule","removeRule","root","location","href","lastIndexOf","topnav","className","items","item1","innerHTML","push","item2","item3","item4","item5","currentPage","item","body","insertBefore","firstChild","overview_modal","modal_content","overview_modal_close","overview_modal_text","onclick","display","addEventListener","event","target","RiverOverview","_this","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2___default","cursor","color","textDecoration","text","overviews","innerText","HTMLElement","customElements","define","navigator","userAgent","includes","setTimeout","alert","_typeof2","obj","iterator","ReferenceError","Function","toString","_construct","Parent","Reflect","sham","Proxy","Date","isNativeReflectConstruct","a","previousVisits","Number","setItem","data","selectedColorScheme","usingDarkMode","supportsDarkMode","media","online","onLine","hasServiceWorkers","timeStamp","now","referrer","url","formURL","JSON","stringify","urls","parse","fetch","request","result","type","XMLHttpRequest","onload","onerror","open","send","splice","_loop","__webpack_exports__","oldresult","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default","addLine","assign","River","sort","usgsarray","serviceWorker","register","ItemHolder","riverarray","map","index","loadUSGS","NewList","query","reverse","toLowerCase","orderedlist","String","normalSearch","advancedSearch","nlist","forEach","plat","plon","distanceto","div","getElementById","TopBar","searchbox","_callee","status","num","progress","position","output","coords","wrap","_context","prev","next","setInterval","repeat","geolocation","getCurrentPosition","sent","t0","code","message","clearInterval","latitude","longitude","accuracy","stop","parameters","section","writeup","distance","lat","lon","includeUnknown","checked","skill","getAdvancedSearchParameters","link","encodeURI","hash","search","decodeURI","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","GenStateSuspendedStart","method","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","iter","keys","pop","skipTempReset","charAt","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","GraphName","timeframe","Source","canvas","horizontal","vertical","graphtype","numplace","endcolor","height","width","ctx","getContext","lineWidth","Math","ceil","min","beginPath","calcvertical","vscale","max","hscale","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","voffset","hoffset","px","floor","font","fillStyle","strokeStyle","grd","createLinearGradient","addColorStop","start","Text","precision","round","toFixed","fillText","formatDate","date","time","getHours","getMinutes","getMonth","getDate","getFullYear","time1","time2","time3","getTime","starttime","endtime","midtime","textAlign","preciplist","fulldayprecip","halfdayprecip","H","Value","V","moveTo","valid","lineTo","stroke","Array","isArray","arr2","from","NewSpan","span","addSorting","button","id","Node","parentNode","removeChild","addGraphs","calculateColor","river","options","flow","str","parseFloat","currentType","match","cfs","feet","lightness","running","calculateRatio","low","high","current","log","minrun","maxrun","midflow","pow","log10","lowflow","highflow","locate","rating","base","expanded","forceregenerate","finished","AddSpan","normalColor","focusedColor","img","src","alt","usgsNumber","usgsData","previous","calculateDirection","usgs","tlat","tlon","aw","rel","padding","nextSibling","elem","addClickHandler","backgroundColor","dispatchEvent","Event","Remove","Code","ToDelete","createcanvas","fillRect","toparts","timestamps","dateTime","addFlowGraph","parts","toDataURL","addTempGraph","temp","addPrecipGraph","precip","simpleSort","list","propertyName","b","alphabeticalsort","ratingsort","shift","skillsort","ToNum","noData","hasGauge","knownState","concat","runningSort","stringQuery","matchCase","stringFilter","skillToNumber","skillFilter","passes","calculateDistance","lambert","locationFilter","maxDistance","lat1","lon1","lat2","hidlat","lon2","hidlon","advanced_search_modal","PI","reducedLat1","atan","tan","reducedLat2","angle","acos","sin","cos","q","flattening","_ref","sites","val","usgsdata","response","_response","_i2","latestCfs","latestFeet","replacement","join","toISOString","json","timeSeries","obj2","units","variable","variableDescription","sitecode","sourceInfo","siteCode","obj3","siteName","variablecode","variableCode","replaceChild","updateLegend","clearRect","getComputedStyle","getPropertyValue","fontSize","clientWidth","gradient","drawColors","drawText","elementOffset","offsetTop","pageYOffset","top","paddingTop","makeSticky"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","module.exports = require(\"regenerator-runtime\");\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","//This JavaScript file should run on all pages\n//It defines global CSS rules, allows for forcing dark mode,\n//defines the river-overview DOM element, and makes sure a viewport meta tag exists.\n\ntry {\n\trequire(\"./collectVisitorInformation.js\") //Get site usage statistics\n}\ncatch(e) {console.error(e)}\n\n\n\n\n//Add the viewport meta tag if it does not exist.\ntry {\n    ;(function addViewportMeta() {\n        let tags = document.head.querySelectorAll(\"meta\")\n        for (let i=0;i<tags.length;i++) {\n            if (tags[i].name = \"viewport\") {return} //There is already a viewmport meta tag\n        }\n        let meta = document.createElement(\"meta\")\n        meta.name = \"viewport\"\n        meta.content = \"width=device-width, initial-scale=1\"\n        document.head.appendChild(meta)\n    })()\n}\ncatch(e) {\n    console.error(e)\n}\n\n\n//This is extremely sensitive to the design of the CSS\n//The @media query must be last rule in first stylesheet for this to work\nlet styleSheet = document.styleSheets[0]\n\nif (!styleSheet) {\n    console.warn(\"No stylesheet available. There must be an existing stylesheet in order for allPages.js to function properly without inline style allowed or without document.documentElement (which may always exist).\")\n    let style = document.createElement(\"style\")\n    document.documentElement.appendChild(style)\n    styleSheet = document.styleSheets[0]\n}\n\n\n//Determine if the user wants dark mode\n//If prefers-color-scheme does not exist, the user needs to manually select dark/light mode\n//If prefers-color-scheme does exist, we follow it, unless the user wants to override it\n\ntry {\n    //Basic checking to make sure we don't mess with/error on pages that don't support dark mode\n    if (styleSheet.cssRules[styleSheet.cssRules.length - 1] instanceof CSSMediaRule) {\n        window.darkMode = localStorage.getItem(\"prefersDarkMode\")\n        //Convert string to boolean\n        if (window.darkMode === \"null\") {window.darkMode = null}\n        if (window.darkMode === \"false\") {window.darkMode = false}\n        if (window.darkMode === \"true\") {window.darkMode = true}\n\n\n        if (window.darkMode === null) {\n            window.darkMode = window.matchMedia('(prefers-color-scheme: dark)').matches\n        }\n\n        //Override browser to engage or disengage dark mode\n        if (window.darkMode === true && window.matchMedia('(prefers-color-scheme: dark)').matches === false) {\n            let cssText = styleSheet.cssRules[styleSheet.cssRules.length-1].cssText\n            //Trim off the @media ... { and trailing }\n            cssText = cssText.slice(cssText.indexOf(\"{\") + 1, -1)\n            let darkModeRules = cssText.split(\"\\n\")\n            for (let i=0;i<darkModeRules.length;i++) {\n                let rule = darkModeRules[i]\n                if (rule.trim() === \"\") {continue}\n                styleSheet.insertRule(rule, styleSheet.cssRules.length)\n            }    \n        }\n\n        if (window.darkMode === false && window.matchMedia('(prefers-color-scheme: dark)').matches === true) {\n            styleSheet.removeRule(styleSheet.cssRules.length - 1)\n        }\n\n        if (window.darkMode) {\n            //Style links so that they are visible in dark mode\n\n            //Unvisited Link\n            styleSheet.insertRule(\"a:link {color: #3333FF;}\", styleSheet.cssRules.length)\n            //Visited link\n            styleSheet.insertRule(\"a:visited {color: purple;}\", styleSheet.cssRules.length)\n            //Hovering over link\n            styleSheet.insertRule(\"a:hover {color: green;}\", styleSheet.cssRules.length)\n            //Quick flash of color when link clicked\n            styleSheet.insertRule(\"a:active {color: red;}\", styleSheet.cssRules.length)\n        }\n    }\n}\ncatch (e) {\n    console.error(e)\n}\n\n\n\n\n\n\n//Make sure I don't hate the font\nstyleSheet.insertRule(\"html body {font-family: Arial, Helvetica, sans-serif}\", styleSheet.cssRules.length)\n\n\n\n\n//Create navigation bar\n//Where rivers.run is located\n//This should allow rivers.run to the run from a directory\nlet root = window.location.href\nroot = root.slice(0,root.lastIndexOf(\"/\") + 1) //Add 1 so we don't clip trailing slash\n\nlet topnav = document.createElement(\"div\")\ntopnav.className = \"topnav\"\n\nlet items = []\n\nlet item1 = document.createElement(\"a\")\nitem1.href = root\nitem1.innerHTML = \"River Info\"\nitems.push(item1)\n\nlet item2 = document.createElement(\"a\")\nitem2.href = root + \"about.html\"\nitem2.innerHTML = \"About\"\nitems.push(item2)\n\nlet item3 = document.createElement(\"a\")\nitem3.href = root + \"FAQ.html\"\nitem3.innerHTML = \"FAQ\"\nitems.push(item3)\n\nlet item4 = document.createElement(\"a\")\nitem4.href = root + \"settings.html\"\nitem4.innerHTML = \"Settings\"\nitems.push(item4)\n\nlet item5 = document.createElement(\"a\")\nitem5.href = root + \"clubs.html\"\nitem5.innerHTML = \"Clubs\"\nitems.push(item5)\n\n\nlet currentPage = window.location.href.slice(root.length)\nif (currentPage.indexOf(\"#\") !== -1) {\n    currentPage = currentPage.slice(0, currentPage.indexOf(\"#\"))\n}\n\n\nfor (let i=0;i<items.length;i++) {\n    let item = items[i]\n\n    let target = item.href.slice(root.length)\t\n\n    if (target === currentPage) {\n        item.className = \"topnavcurrent\"\n    }\n    topnav.appendChild(item)\n}\n\ndocument.body.insertBefore(topnav, document.body.firstChild)\n\n\n\nstyleSheet.insertRule(`\n.topnav {\noverflow: hidden;\nbackground-color: #24b9cc;\nmargin:0px;\n}\n`, styleSheet.cssRules.length)\n\n\nstyleSheet.insertRule(`\n.topnav a {\nfloat: left;\ndisplay: block;\ncolor:black;\ntext-align:center;\npadding: 12px 13px;\ntext-decoration: none; /*Avoid the links being underlined*/\nfont-size: 17px;\n}\n`, styleSheet.cssRules.length)\n\n\n//Make sure the header doesn't go onto multiple lines\nstyleSheet.insertRule(`\n@media screen and (max-width: 386px) {\n.topnav a {\npadding: 10px 11px;\nfont-size: 4.3vw;\n}\n}\n`, styleSheet.cssRules.length)\n\n\nstyleSheet.insertRule(\".topnav a:hover {background-color: #359daa}\", styleSheet.cssRules.length)\nstyleSheet.insertRule(\".topnavcurrent {background-color: #25d1a7}\", styleSheet.cssRules.length)\n\n\n\n\n\n\n\n//The remaining code is for the river-overview tags\n\n//Add the modal styles\nstyleSheet.insertRule(`\n.modal {\ndisplay: none; \nposition:fixed; \nz-index:1; \npadding-top: 5%;\nleft:0;\ntop:0;\nwidth:100%;\nheight: 100%;\noverflow:auto;\nbackground-color: rgba(0,0,0,0.4);\n}`, styleSheet.cssRules.length)\n\nstyleSheet.insertRule(`\n.modal-content {\ncolor:black;\nbackground-color: #fefefe;\nmargin: auto;\npadding: 20px;\nborder: 1px solid #888;\nwidth: 90%;\n}`,styleSheet.cssRules.length)\n\nstyleSheet.insertRule(`\n.modal-close {\ncolor: #aaaaaa;\nfloat: right;\nfont-size: 28px;\nfont-weight: bold;\n}`,styleSheet.cssRules.length)\n\nstyleSheet.insertRule(`\n.modal-close:hover, .modal-close:focus {\ncolor: #000;\ntext-decoration: none;\ncursor: pointer;\n}`,styleSheet.cssRules.length)\n\n\nif (window.darkMode) {\n    styleSheet.insertRule(`\t\n.modal-content {\nbackground-color:black;\ncolor:#cfcfcf;\n}`, styleSheet.cssRules.length)\n}\n\n\n//Create the modal element\nlet overview_modal = document.createElement(\"div\")\noverview_modal.className = \"modal\"\n\nlet modal_content = document.createElement(\"div\")\nmodal_content.className = \"modal-content\"\n\nlet overview_modal_close = document.createElement(\"span\")\noverview_modal_close.className = \"modal-close\"\noverview_modal_close.innerHTML = \"\"\n\nlet overview_modal_text = document.createElement(\"p\")\n\noverview_modal.appendChild(modal_content)\nmodal_content.appendChild(overview_modal_close)\nmodal_content.appendChild(overview_modal_text)\n\ndocument.body.appendChild(overview_modal)\n\n\n\n//Make the modal disappear when the close button is clicked, or when area outside content is clicked\noverview_modal_close.onclick = function() {\n    overview_modal.style.display = \"none\"\n}\n\nwindow.addEventListener(\"click\", function(event) {\n    if (event.target === overview_modal) {\n        overview_modal.style.display = \"none\"\n    }\n})\n\n\n//Create the river-overview element\nclass RiverOverview extends HTMLElement {\n    constructor() {\n        super();\n\n        function openOverview() {\n            let text = \"This overview (\" + this.innerHTML + \") is not available. This is likely due to a programming or data entry error\"\n            if (window.overviews && window.overviews[this.innerText.trim()]) {\n                text = window.overviews[this.innerText.trim()]\n            }\n\n            overview_modal_text.innerHTML = text\n            overview_modal.style.display = \"block\"\n\n        }\n\n\n        //Style so that text looks like a link/button\n        this.style.cursor = \"pointer\"\n        this.style.color = \"rgb(51, 51, 255)\"\n        this.style.textDecoration = \"underline\"\n\n        this.addEventListener(\"click\", openOverview)\n\n    }\n}\n\ntry {\n    customElements.define('river-overview', RiverOverview);\n}\ncatch (e) {\n    console.error(e)\n    //Alert firefox users about the flag\n    if (navigator.userAgent.includes(\"Firefox\")) {\n        setTimeout(function() {\n            alert(\"In order to view area overviews, you will need a browser that supports DOM customElements. You may be able to enable customElements in about:config\")\n        },4000)\n    }\n}\n","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","let previousVisits = (Number(localStorage.getItem(\"previousVisits\")) || 0) + 1\nlocalStorage.setItem(\"previousVisits\", previousVisits)\n\n\n//Data that we are collecting\nlet data = {\n  userAgent: navigator.userAgent, //Information about the browser\n\tselectedColorScheme: localStorage.getItem(\"prefersDarkMode\"), //Determining if you explicitly selected a color scheme\n\tusingDarkMode: window.darkMode, //Determining if you are using dark mode\n\tsupportsDarkMode: window.matchMedia('(prefers-color-scheme: dark)').media !== \"not all\", //Determine if your browser supports automatic dark mode\n\tonline: navigator.onLine, //Detect if the offline version of the site is being used\n\thasServiceWorkers: 'serviceWorker' in navigator,//Detect if the browser supports serviceworkers\n\ttimeStamp: Date.now(), //What time the page was visited at.\n\treferrer: document.referrer, //Used to detect how navigation is used\n\tpreviousVisits, //Used to detect if a visitor is unique\n\turl: window.location.href //Used to eliminate data sent due to development work\n}\n\n//URL to submit the data to\nlet formURL = \"https://docs.google.com/forms/d/e/1FAIpQLSfyTHeq0fp6-iofQacxfXcsSGjYymLJbLOPmlBBKBtttWvtcA/formResponse?ifq&entry.1198287313=\" + JSON.stringify(data) + \"&submit=Submit\"\n\n\nfunction loadURL() {\n\t//Return true if the request is successful. false otherwise\n\treturn new Promise((resolve, reject) => {\n\t\tif (window.fetch) {\n\t\t\tlet request = fetch(formURL, {mode: \"no-cors\"})\n\t\t\trequest.then((result) => {\n\t\t\t\tif (result.type === \"opaque\") {\n\t\t\t\t\tresolve(true)\n\t\t\t\t}\n\t\t\t})\n\t\t\trequest.catch((e) => {\n\t\t\t\tconsole.error(e)\n\t\t\t\tresolve(false)\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\t\t\t\t\n\t\t\t//For browsers that don't support fetch\n\t\t\t//I have no way to actually assure that the request went through using\n\t\t\t//XMLHttpRequest, and merely assume that it went through if anything happens\n\t\t\t\t\t\t\n\t\t\tlet request = new XMLHttpRequest()\n\t\t\t\trequest.onload = function(event) {\n\t\t\t\t\tresolve(true)\n\t\t\t\t};\n\t\t\t\trequest.onerror = function(event) {\n\t\t\t\t\tresolve(true)\n\t\t\t\t};\t\t\t\n\t\t\trequest.open(\"GET\", formURL);\n\t\t\trequest.send()\n\t\t}\n\t})\n}\n\n\n//Race conditions are possible, although unlikely to happen here (although not much breaks if they do)\n//If the site is loaded offline, store the data and send it in the next time the site is loaded.\nlet urls = JSON.parse(localStorage.getItem(\"urlsToLoad\") || \"[]\")\nurls.push(formURL)\n\nfor (let i=0;i<urls.length;i++) {\n\tlet url = urls[i]\n\tloadURL(url).then((result) => {\n\t\t//If the request succeeded, remove the URL from the queue\n\t\tif (result) {\n\t\t\turls.splice(urls.indexOf(url), 1)\n\t\t\tlocalStorage.setItem(\"urlsToLoad\", JSON.stringify(urls))\n\t\t}\n\t})\n}\n\n","'use strict';\n\ntry {\nrequire(\"./allPages.js\")\n}\ncatch(e) {console.error(e)}\n\ntry {\nwindow.addLine = require(\"./graph.js\").addLine\n}\ncatch(e) {console.error(e)}\n\n\n//Defines window.TopBar and window.triangle\nObject.assign(window, require(\"./TopBar.js\"))\n\nwindow.River = require(\"./River.js\").River\n\nwindow.sort = require(\"./sort.js\").sort\n\n//Defines window.normalSearch and window.advanedSearch\nObject.assign(window, require(\"./search.js\"))\n\nwindow.usgsarray = {} \n\n\nif ('serviceWorker' in navigator) {\n    window.addEventListener('load', function() {\n        navigator.serviceWorker.register('/sw.js');\n    });\n}\n\n\n\n//ItemHolder is a list of all the DOM elements objects. New objects should be pushed into the list. \nwindow.ItemHolder = []\nriverarray.map(function(event, index) {\n    ItemHolder[index] = new River(index, event)\n})\n\n\n//Fetch data from USGS\n//ItemHolder has been filled, so this can be run here (and needs to be.... Otherwise window.usgsarray is undefined)\nrequire(\"./loadUSGS.js\").loadUSGS()\n\n\nvar oldresult;    \nwindow.NewList = function(query, type, reverse) {\n    if (typeof(query) === \"string\") {\n        query = query.toLowerCase()\n    }\n    //Location searching uses numbers.\n\n    let orderedlist = ItemHolder.slice(0); //Clone the array\n    if (!(String(query).length === 0 || !query || !type)) {\n\n        if (type === \"sort\") {\n            //Obey other filters\n            if (oldresult) {\n                orderedlist = oldresult\n            }\n\n            orderedlist = sort(query, orderedlist, reverse)\n        }\n        if (type === \"normal\") {\n            orderedlist = normalSearch(orderedlist, query)\n        }\n        if (type === \"advanced\") { \n            orderedlist = advancedSearch(orderedlist, query)\n        }    \n        if (type === \"location\") {\n            if (oldresult) {\n                orderedlist = oldresult\n            }\n\n            var nlist = []\n            orderedlist.forEach(function(value){\n                if (value.plat && value.plon) {\n                    if (distanceto(value.plat, value.plon) < query) {\n                        nlist.push(value)\n                    }\n                }\n            })\n            orderedlist = nlist\n        }\n\n\n    }//Closing for if a query is present\n\n    //Clear Current\n    ItemHolder.forEach(function(event) {\n        event.delete()\n    }) \n    //Append New\n    var div = document.getElementById(\"Rivers\")\n    //Everything else    \n    orderedlist.forEach(function(event){\n        div.appendChild(event.create())\n    })\n\n    if (type !== \"sort\") {\n        oldresult = orderedlist\n    }\n}\n\n\ndocument.getElementById(\"Rivers\").appendChild(new TopBar().create())\n//Needs a #Rivers > .riverbutton to get font-size using getComputedStyle\nrequire(\"./createLegend.js\")\n\n\nNewList(\"alphabetical\", \"sort\")\n\n\nlet searchbox = document.getElementById(\"searchbox\")\nsearchbox.addEventListener(\"keydown\", function() {setTimeout(function(){NewList(searchbox.value, \"normal\")}, 20)})\n\n\n//Generate advanced search parameters from menu\nfunction getAdvancedSearchParameters() {\n    let parameters = {}\n\n    parameters.name = {\n        type: document.getElementById(\"nameType\").value,\n        query: document.getElementById(\"nameQuery\").value\n    }\n\n    parameters.section  = {\n        type: document.getElementById(\"sectionType\").value,\n        query: document.getElementById(\"sectionQuery\").value\n    }\n\n    parameters.writeup = {\n        type: document.getElementById(\"writeupType\").value,\n        query: document.getElementById(\"writeupQuery\").value\n    }\n\t\n\t\n\t\n\tlet distance = Number(document.getElementById(\"distanceQuery\").value)\n\t\n\t\t\tlet lat = document.getElementById(\"latitudeQuery\").value\n\t\t\tlet lon = document.getElementById(\"longitudeQuery\").value\n\t\t\t\n\t\t\t//TODO: Parse other latitude and longitude formats\n\t\t\tlat = Number(lat)\n\t\t\tlon = Number(lon)\n\t\n\t\n\t\nif (!(distance > 0) && lat && lon) {\n\talert(\"Distance must be a number greater than 0 to use location sorting\")\n}\nelse if (distance > 0 && !(lat && lon)) {\n\talert(\"You must enter a latitude and longitude (Get the coordinates from GPS by pressing Calculate my Location)\")\n}\nelse if (distance > 0 && lat && lon) {\n\t\t\t\tparameters.location = {\n\t\t\t\t\tlat,\n\t\t\t\t\tlon,\n\t\t\t\t\tdistance,\n\t\t\t\t\tincludeUnknown: document.getElementById(\"includeUnknown\").checked\n\t\t\t\t}\n\t\t\t}\n\t\n\t\n    parameters.skill = {\n        type: \"from\",\n        query: [\n            Number(document.getElementById(\"skillQuery1\").value),\n            Number(document.getElementById(\"skillQuery2\").value)\n        ]\n    }\n\t\n\t\n    return parameters\n}\n\n\nasync function calculateCoordinates() {\n\t\n\tlet status = document.getElementById(\"locationProgress\")\n\tlet num = 0\n\tlet progress = setInterval(function() {\n\t\tnum = (num+1)%6\n\t\tstatus.innerHTML = \"Calculating your Approximate Location (Expect this to take 15-60 seconds)\" + \".\".repeat(num)\n\t}, 500)\n\t\n\tlet position;\n\ttry {\n\t\tposition = await new Promise((resolve, reject) => {\n\t\t\tnavigator.geolocation.getCurrentPosition(resolve, reject)\n\t   });\n\t}\n\tcatch(e) {\n\t\tlet output = \"Error code \" + e.code + \" occoured when getting your location. The error message is: \" + e.message \n\t\talert(output)\n\t\tclearInterval(progress)\n\t\tstatus.innerHTML = output\n\t}\n\n\n\tlet coords = position.coords\n\t\n\t\tclearInterval(progress)\n\t\n\tdocument.getElementById(\"latitudeQuery\").value = coords.latitude\n\tdocument.getElementById(\"longitudeQuery\").value = coords.longitude\n\tstatus.innerHTML = \"You are within \" + coords.accuracy + \" meters of \" + coords.latitude + \" degrees latitude and \" + coords.longitude + \" degrees longitude.\"\n}\n\ndocument.getElementById(\"calculateCoordinates\").addEventListener(\"click\", calculateCoordinates)\n\n\n\n\ndocument.getElementById(\"performadvancedsearch\").addEventListener(\"click\", function() {\n    let query = getAdvancedSearchParameters()\n\n    //Add link to this search\n    //This should run before NewList - otherwise the entire content is added to the object and URL\n    //Find where rivers.run is located\n    //This should allow rivers.run to the run from a directory   \n    let root = window.location.href\n    root = root.slice(0,root.lastIndexOf(\"/\") + 1) //Add 1 so we don't clip trailing slash\n    let link = encodeURI(root + \"#\" + JSON.stringify(query))\n    document.getElementById(\"searchlink\").innerHTML = \"Link to this search: <a href=\\\"\" + link + \"\\\">\" + link + \"</a>\"\n\n    NewList(query, \"advanced\", false) //Currently no options are offered to sort or order advanced search\n})\n\n\n\n\n\n\n\n\n//Check if there is a search query\nif (window.location.hash.length > 0) {\n    let search = decodeURI(window.location.hash.slice(1))\n\n    try {\n        //Do an advanced search if the query if an advanced search\n        let query = JSON.parse(search)\n        \n        //TODO: Set the advanced search areas to the query. \n        \n        NewList(query, \"advanced\")\n\n\n    }\n    catch (e) {\n        //Looks like we have a normal search query\n        document.getElementById(\"searchbox\").value = search\n        NewList(search, \"normal\")\n\t}\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","//Graph Code\n//It's Ugly... It should be fixed\n//BUT IT WORKS\n\n//addline(canvas, horizontal, vertical, color, graphtype, numplace)\n\n//canvas - HTML canvas element\n//horizontal - array of horizontal values. Pass 0 and it will evenly space.\n//vertical - array of vertical values\n\n//color - Optional. Color of line. Default black\n//graphtype - Optional. Specify 2 to put 2 lines and 2 scales on one graph. See numplace below\n//numplace - Use only if you are using graphtype = 2. \n//If you specify 0 or do not pass a value, the line's scale will be on the left side of the graph.\n//If you specify 1, the line's scale will be on the right side of the graph\nfunction addLine(GraphName, timeframe, Source, canvas, horizontal, vertical, color, graphtype, numplace) {\n    if (graphtype === 3) {\n        var endcolor = numplace\n        }\n    if (graphtype !== 2) {\n        numplace = 0\n    }\n    var height = canvas.height*0.80\n    var width = canvas.width\n\n    var ctx = canvas.getContext('2d');  \n\n\n\n    if (!isNaN(Number(horizontal))) {\n        horizontal = []\n        for (var i = 0;i<vertical.length;i++) {\n            horizontal.push(i*width)\n        }\n    }\n    if (horizontal.length !== vertical.length) {\n        console.warn(\"Uneven amount of datapoints. \" + horizontal.length + \" horizontal points found, but \" + vertical.length + \" vertical points found.\")\n    }\n\n    color = color || \"#000000\"\n    \n    ctx.lineWidth = Math.ceil(Math.min(width, height)/120)\n    ctx.beginPath();\n\n    if (graphtype === 2) {\n        width = width*0.86\n    }\n    else {\n        width = width*0.93\n    }\n\n    var calcvertical = []\n    for (var i = 0;i<vertical.length;i++) {\n        if (!isNaN(Number(vertical[i])) && (vertical[i]) !== \"\") {\n            calcvertical.push(vertical[i])\n        }\n        //else {\n        //This is a valid warning - It just got TOO ANNOYING\n        //console.warn(\"Element \" + i + \" in list is an invalid number. It had a value of: \" + vertical[i])\n        //}\n    }\n\n    var vscale = Math.max(...calcvertical) - Math.min(...calcvertical)\n    var hscale = Math.max(...horizontal) - Math.min(...horizontal)\n    vscale = height/vscale\n    hscale = width/hscale\n    var voffset = Math.min(...calcvertical)\n    var hoffset = Math.min(...horizontal)\n\n    hoffset -= (Math.max(...horizontal) - Math.min(...horizontal))*0.07\n\n    var px = Math.floor(((canvas.width)*0.07)/2.6)\n    ctx.font = (px + 'px serif')\n    if (color.length === 9) {\n        color = color.slice(0,7)\n    }\n    ctx.fillStyle = color\n    ctx.strokeStyle = color\n\n    if (graphtype === 3) {\n        var grd = ctx.createLinearGradient(0, 0, 0, height);\n        grd.addColorStop(0, color);   \n        grd.addColorStop(1, endcolor);\n        ctx.strokeStyle = grd;\n        ctx.fillStyle = grd;\n    }    \n\n    if (numplace === 0 || numplace === undefined) {\n        var start = 1\n        }\n    else {\n        var start = canvas.width-(canvas.width*0.07)\n        }\n    for(var i = 1;i<11;i++) {\n        var Text = ((Math.max(...calcvertical) - Math.min(...calcvertical))*((i-1)/10))+Math.min(...calcvertical)\n\n        let precision = Math.max(0, 3-String(Math.round(Text)).length)\n\n        Text = Number(Text.toFixed(precision))\n\n        ctx.fillText(Text, start, (height*(11-i))/10-5);\n    }\n\n    //Top one\n    Text = ((Math.max(...calcvertical) - Math.min(...calcvertical))*((i-1)/10))+Math.min(...calcvertical)\n\n    let precision = Math.max(0, 3-String(Math.round(Text)).length)\n\n    Text = Number(Text.toFixed(precision))\n\n    ctx.fillText(Text, start, 27);\n\n\n\n\n\n    var px = Math.floor(((canvas.width)*0.07)/2.8)\n    ctx.font = (px + 'px serif')\n    if (color.length === 9) {\n        color = color.slice(0,7)\n    }\n\n\n    if (!window.darkMode) {\n        ctx.fillStyle = \"black\"\n    }\n    else {\n        //Dark Mode\n        ctx.fillStyle = \"#cccccc\"\n    }    \n\n\n\n    function formatDate(date) {\n        var time = String(date.getHours())\n\n        if (date.getHours() < 10) {\n            time = \"0\" + time\n        }\n        time += \":\"\n        if (date.getMinutes() < 10) {\n            time += \"0\" + date.getMinutes()\n        }\n        else {\n            time += date.getMinutes()\n        }\n        time += \" \" + (date.getMonth()+1) + \"/\" + date.getDate() + \"/\" +date.getFullYear()\n        return time\n    }\n\n    var time1 = new Date(timeframe[0])\n    var time2 = new Date(timeframe[timeframe.length - 1])\n    var time3 = new Date(((time2-time1)/2)+time1.getTime())\n\n    var starttime = formatDate(time1)\n    var endtime = formatDate(time2)\n    var midtime = formatDate(time3)\n\n    ctx.fillText(starttime, 10, (canvas.height*(11/12))-(canvas.height*0.06)-12)\n\n    ctx.textAlign = \"end\"; \n    ctx.fillText(endtime, canvas.width-10, (canvas.height*(11/12))-(canvas.height*0.06)-12)\n\n    ctx.textAlign = \"center\"; \n    ctx.fillText(midtime, canvas.width/2, (canvas.height*(11/12))-(canvas.height*0.06)-12)\n\n    ctx.textAlign = \"start\";     \n\n\n\n    var px = Math.floor(((canvas.width)*0.07)/2.4)\n    ctx.font = (px + 'px serif')\n    ctx.fillStyle = color\n    //We need to create a gradient for just the text \"Water Temperature (F)\"\n    if (graphtype === 3) {\n        var grd = ctx.createLinearGradient(0, height, 200, height);\n        grd.addColorStop(0, color);   \n        grd.addColorStop(1, endcolor);\n        ctx.strokeStyle = grd;\n        ctx.fillStyle = grd;\n    }\n\n    if (graphtype === 2) {\n        if (numplace === 0 || numplace === undefined) {\n            ctx.fillText(\"Flow (Cubic Feet/Second)\", start+5, (canvas.height*(11/12)));    \n        }\n        else {\n            ctx.textAlign = \"right\"; \n            ctx.fillText(\"Gauge Height (Feet)\", start-5, (canvas.height*(11/12)));\n            ctx.textAlign = \"start\"; \n        } \n    }\n    else if (graphtype === 3) {\n        ctx.fillText(\"Water Temperature (F)\", start+5, (canvas.height*(11/12)));    \n    }\n    else {\n        if (GraphName === \"Precipitation\") {\n            ctx.fillText(\"Precipitation (Inches)\", start+5, (canvas.height*(11/12))); \n            var fulldayprecip = 0\n            var halfdayprecip = 0\n            var preciplist = vertical.slice(-96)\n            var preciplist = preciplist.map(Number)\n            //convert strings to numbers\n            preciplist.forEach(function(value){\n                fulldayprecip += value\n            })\n            preciplist = preciplist.slice(-48)\n            preciplist.forEach(function(value){\n                halfdayprecip += value\n            })\n\n            fulldayprecip = fulldayprecip.toFixed(2)\n            halfdayprecip = halfdayprecip.toFixed(2)\n\n            ctx.fillText(\"Last 24 Hours: \" + fulldayprecip + \" in\", canvas.width-700, (canvas.height*(11/12))); \n            ctx.fillText(\"Last 12 Hours: \" + halfdayprecip + \" in\", canvas.width-330, (canvas.height*(11/12))); \n        }\n        else if (GraphName === \"cfs\") {\n            ctx.fillText(\"Flow (Cubic Feet/Second)\", start+5, (canvas.height*(11/12)));    \n        }\n        else if (GraphName === \"height\") {\n            ctx.fillText(\"Gauge Height (Feet)\", start+5, (canvas.height*(11/12)));    \n        }\n        else {\n            ctx.fillText(\"Labeling Error...\", start+5, (canvas.height*(11/12)));    \n        }    \n    }\n\n    //set it back    \n    if (graphtype === 3) {\n        //The area that actually has the graph is the top 80% height wise\n        var grd = ctx.createLinearGradient(0, 0, 0, canvas.height*0.8);\n        grd.addColorStop(0, color);   \n        grd.addColorStop(1, endcolor);\n        ctx.strokeStyle = grd;\n        ctx.fillStyle = grd;\n    }\n\n    if (!window.darkMode) {\n        ctx.fillStyle = \"black\"\n    }\n    else {\n        //Dark Mode\n        ctx.fillStyle = \"#cccccc\"\n    }\n\n    ctx.textAlign = \"center\"; \n    ctx.fillText(Source, canvas.width/2 , canvas.height-10);  \n    ctx.textAlign = \"start\"; \n\n\n\n\n    function H(Value) {\n        return Math.round((Value-hoffset)*hscale)\n    }\n\n    function V(Value) {\n        return Math.round(height-((Value-voffset)*vscale))\n    }\n\n\n    for (var p = 0;p<Math.min(vertical.length, horizontal.length);p++) {\n        if (!isNaN(Number(vertical[p])) && vertical[p] !== \"\") {\n            ctx.moveTo(H(horizontal[p]), V(vertical[p]))\n            break;\n        }    \n    }\n\n\n    var valid = 1\n\n    for (var i = p;i<Math.min(vertical.length, horizontal.length);i++) {\n        if (!isNaN(Number(vertical[i])) && vertical[i] !== \"\") {\n            if (valid === 1) {\n                ctx.lineTo(H(horizontal[i]), V(vertical[i]))\n            }\n            else {\n                ctx.moveTo(H(horizontal[i]), V(vertical[i])+10)\n                ctx.lineTo(H(horizontal[i]), V(vertical[i]))\n                valid = 1\n            }\n        }\n        else {\n            valid = 0\n        }\n    }\n\n\n    ctx.stroke();\n    ctx.beginPath()\n\n    ctx.lineWidth = Math.ceil(ctx.lineWidth/10)\n\n    if (!window.darkMode) {\n        ctx.strokeStyle = \"000000AA\"\n    }\n    else {\n        //Dark Mode\n        ctx.strokeStyle = \"#ccccccAA\"\n    }\n\n    for (var i = 1;i<11;i++) {\n        ctx.moveTo(0, height*(11-i)/10)\n        ctx.lineTo(canvas.width, height*(11-i)/10)\n    }\n    ctx.stroke()\n}    \n\n\nexport {\n    addLine\n}\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function NewSpan(Text) {\n    let span = document.createElement(\"span\")\n    span.className = \"riverspan\"\n    span.innerHTML = Text\n    return span\n}\n\nfunction addSorting(span, type) {\n    span.onclick = function() {\n        if (this.value === 1) {\n            NewList(type, \"sort\", true) //Reversed\n            this.value = 0\n        }\n        else {\n            NewList(type, \"sort\")\n            this.value = 1\n        }\n    }\n}\n\n\nfunction TopBar() {\n    this.create = function() {\n        let button = document.createElement(\"button\")\n        button.id = \"topbar\"\n        button.className = \"riverbutton\"\n\n\n        let span = NewSpan(\"River\")\n        addSorting(span, \"alphabetical\")\n        span.value = 1//Starts sorted alphabetically, a-z. The first sort needs to reverse that.\n        button.appendChild(span)\n\n        button.appendChild(NewSpan(\"Section\"))\n\n        span = NewSpan(\"Skill\")\n        addSorting(span, \"skill\")\n        span.value = 0\n        button.appendChild(span) \n\n        span = NewSpan(\"Rating\")\n        addSorting(span, \"rating\")\n        span.value = 1 //We want greatest first, not least first, on the first sort\n        button.appendChild(span) \n\n        span = NewSpan(\"Flow Info/Trend\")\n        addSorting(span, \"running\")\n        span.value = 1 //Show highest flow first, instead of lowest\n        button.appendChild(span)\n\n        return button\n    }\n\n    this.delete = function() {\n        let Node = document.getElementById(\"topbar\")\n        if (Node) {\n            Node.parentNode.removeChild(Node)\n        }\n    }\n}\n\n\nmodule.exports = {\n    TopBar\n}\n","\nlet addGraphs = require(\"./addGraphs.js\").addGraphs\n\n\n\nfunction addClickHandler(button, locate) {\n    //Code that runs when the button is clicked\n    button.onclick = function () {\n        let river = ItemHolder[locate]\n        if (river.expanded === 0) {\n            river.expanded = 1\n            var div = document.createElement(\"div\")\n            div.innerHTML = river.writeup + \"<br><br>\"\n\n            if (river.plat && river.plon) {\n                div.innerHTML += \"Put-In GPS Coordinates: \" + river.plat + \", \" + river.plon + \"<br>\"\n            }\n\n            if (river.tlat && river.tlon) {\n                div.innerHTML += \"Take-Out GPS Coordinates: \" + river.tlat + \", \" + river.tlon + \"<br>\"\n            }\n\n            let values = [\"minrun\", \"lowflow\", \"midflow\", \"highflow\", \"maxrun\"]\n            for (let i=0;i<values.length;i++) {\n                let name = values[i]\n                if (river[name]) {\n                    div.innerHTML += name + \":\" + river[name] + \" \"\n                }\n            }\n\n\n            if (river.aw) {\n                //Adding to div.innerHTML works, but logs CSP errors\n                div.appendChild(document.createElement(\"br\"))\n                let link = document.createElement(\"a\")\n                link.target = \"_blank\"\n                link.rel = \"noopener\"\n                link.href = \"https://www.americanwhitewater.org/content/River/detail/id/\" + river.aw\n                link.innerHTML = \"Click here to view this river on American Whitewater\"\n                div.appendChild(link)\n            }\n\n            //USGS data may not have loaded yet\n            if (self.usgsarray) {\n                data = self.usgsarray[river.usgs]\n                addGraphs(div, data)\n            }\n\n            div.style.padding = \"6px\"\n            div.id = river.base + 2\n            button.parentNode.insertBefore(div, button.nextSibling)\n        }\n        else {\n            river.expanded = 0\n            var elem = document.getElementById(river.base + 2)\n            if (elem) {\n                elem.parentNode.removeChild(elem)\n            }\n\n        }\n    }\n}\n\n\n\n\nfunction calculateDirection(usgsNumber) {\n    let usgsData = usgsarray[usgsNumber]\n    if (usgsData) {\n        let data;\n\n        if (usgsData[\"00060\"]) {data = usgsData[\"00060\"].values}\n        else if (usgsData[\"00065\"]) {data = usgsData[\"00065\"].values}\n\n        if (data) {\n            let current;\n            let previous;\n\n            //We will go back 4 datapoints (1 hour) if possible.\n            //Do this because USGS sometimes does 1 hour intervals instead of 15 minutes\n            let stop = Math.max(data.length-5, 0)\n            for (let i=data.length;i>stop;i--) {\n                let item = data[i]\n                if (!item) {continue}\n                let value = item.value\n                if (!current) {\n                    current = value\n                }\n                else {\n                    previous = value\n                }\n            }\n\n            if (current > previous) {\n                //Water level rising\n                return \"\"\n            }\n            else if (previous > current) {\n                //Water level falling\n                return \"\"\n            }\n            else if (current === previous) {\n                //Water level stable\n                return \"-\"\n            }\n\n        }\n    }\n    return; //If we got here, there is not enough USGS data.\n}\n\n\n\n\nfunction calculateColor(river, options) {\n    //hsla color values\n    //hsla(hue, saturation, lightness, opacity)\n    //Saturation hue is 0 red 120 green 240 blue\n    //Saturation - use 100%\n    //Lightness - use 50%\n    //Opacity - Decimal 0 to 1\n\n\n    //Defines river.running\n    //0-4\n    //0 is too low, 4 is too high, other values in between\n\n\n    let values = [\"minrun\", \"lowflow\", \"midflow\", \"highflow\", \"maxrun\"]\n\n    let type; //Currently, we skip a value if one datapoint is cfs and another feet\n\n    for (let i=0;i<values.length;i++) {\n\n        let str = river[values[i]]\n        if (!str) {\n            values[i] = undefined\n            continue;\n        }\n\n        str = str.trim()\n        let value = parseFloat(str)\n        let currentType = str.match(/[^\\d|.]+/) //Match the integer or decimal number\n\n        if (currentType) {\n            currentType = currentType[0].trim() //Match a string of non-digits\n        }\n\n        if (!type && currentType) {\n            type = currentType\n        }\n        else if (type === currentType) {}\n        else {\n            console.warn(values[i] + \" on \" + river.name + \" \" + river.section + \" has a different extension and has been skipped\")\n            values[i] = undefined\n            continue;\n        }\n\n        values[i] = value\n    }\n\n    let flow;\n    if (type === \"cfs\") {\n        flow = river.cfs\n    }\n    else if (type === \"feet\" || type===\"ft\") {\n        flow = river.feet\n    }\n\n    let lightness = (options && options.lightness) || \"50%\"\n\n\n    //Use or equal to\n    //While that technically may not be correct (says that river is too low at minrun), it makes no significant difference\n    //In addition, values equal to minrun or maxrun result in a river.running of 0 or 4\n    //Meaning that they may be included in the middle of a darker highlighted rivers\n    //When sorting by runnability is used.\n\n    //It would be better if rivers that are too high or too low are still given river.running values\n    //related to their level. This would also help in determining if something is just barely\n    //too low, and may come up with rain, or is truely too low.\n\n    if (flow <= values[0]) {\n        //Too low\n        river.running = 0\n        let lightness = (options && options.lightness) || \"50%\"\n        return \"hsla(0,100%,\" + lightness + \",0.6)\"\n    }\n    else if (flow >= values[4]) {\n        //Too high\n        river.running = 4\n        return \"hsla(240,100%,\" + lightness + \",0.6)\"\n    }\n    else {\n        //If we don't have some values, fill them in using logarithms\n        //TODO: Do some analyzsis and figure out the best way to do these calculations\n\n        let minrun = values[0]\n        let maxrun = values[4]\n        let midflow = values[2] || 10**((Math.log10(minrun) + Math.log10(maxrun))/2)\n        let lowflow = values[1] || 10**((Math.log10(minrun) + Math.log10(midflow))/2)\n        let highflow = values[3] || 10**((Math.log10(midflow) + Math.log10(maxrun))/2)\n\n        //We display these so people can tell what values the computer has generated.\n        river.lowflow = parseFloat(lowflow.toFixed(3)) + type\n        river.midflow = parseFloat(midflow.toFixed(3)) + type\n        river.highflow = parseFloat(highflow.toFixed(3)) + type\n\n        function calculateRatio(low, high, current) {\n            low = Math.log(low)\n            high = Math.log(high)\n\n            current = Math.log(current)\n\n\n            let range = high-low\n            let value = current-low\n\n            return value/range\n\n        }\n\n        if (flow < lowflow) {\n            river.running = calculateRatio(minrun, lowflow, flow)\n        }\n        else if (flow < midflow) {\n            river.running = 1+calculateRatio(lowflow, midflow, flow)\n        }\n        else if (flow < highflow) {\n            river.running = 2+calculateRatio(midflow, highflow, flow)\n        }\n        else {\n            river.running = 3+calculateRatio(highflow, maxrun, flow)\n        }\n\n        return \"hsla(\" + (0 + 60*river.running) + \",100%,\" + lightness + \",0.3)\"\n    }\n}\n\n\n\n\n\n\n\nmodule.exports.River = function(locate, event) {\n\n    //Copies name, section, skill, rating, writeup, tags, usgs, plat,plon, tlat,tlon, aw\n    Object.assign(this, event)\n    //tags needs to be a string. It can't be undefined\n    this.tags = this.tags || \"\"\n    //Convert the numeric value to the filename\n    switch (Number(this.rating)) {\n        case 1:\n            this.rating = \"1Star\";\n            break;\n        case 2:\n        case 3:\n        case 4:\n        case 5:\n            this.rating = event.rating + \"Stars\";\n            break;\n        default:\n            this.rating = \"Error\"\n    }\n    if (!this.rating) {\n        this.rating = \"Error\"\n    }\n\n    this.skill = this.skill || \"?\"\n\n    this.base = \"b\" + locate\n    this.expanded = 0\n    this.index = locate\n\n\n    this.create = function (forceregenerate) {\n        //Only create the button once - It's about 3 times faster.\n        if (!this.finished || forceregenerate) {\n\n            var button = document.createElement(\"button\")\n            button.id = this.base + 1\n\n            button.normalColor = window.darkMode ? \"\" : \"\" //Inherit from CSS\n            button.focusedColor = window.darkMode ? \"#333333\" : \"#e3e3e3\"\n\n            function AddSpan(text) {\n                let span = document.createElement(\"span\")\n                span.innerHTML = text\n                span.className = \"riverspan\"\n                button.appendChild(span)\n                return span\n            }\n\n            AddSpan(this.name)\n            AddSpan(this.section)\n            AddSpan(this.skill)\n\n            //Star images for rating\n            if (this.rating === \"Error\") {\n                AddSpan(\"???\")\n            }\n            else {\n                let img = document.createElement(\"img\")\n                img.src = \"resources/\" + this.rating + \".png\"\n                img.alt = this.rating[0] + \" Stars\"\n                img.className = \"starimg\"\n                let span = document.createElement(\"span\")\n                span.appendChild(img)\n                span.className = \"riverspan\"\n                button.appendChild(span)\n            }\n\n            if (this.flow) {\n                let flowSpan = AddSpan(this.flow + calculateDirection(this.usgs))\n                if (this.minrun && this.maxrun) {\n                    button.normalColor = calculateColor(this)\n                    button.focusedColor = window.darkMode ?  calculateColor(this, {lightness:\"75%\"}) : calculateColor(this, {lightness:\"35%\"})\n                }\n            }\n\n\n            button.className = \"riverbutton\"\n            //Add the click handler\n            addClickHandler(button, locate)\n\n\n            button.addEventListener(\"mouseover\", function(){this.style.backgroundColor = this.focusedColor})\n            button.addEventListener(\"mouseout\", function(){this.style.backgroundColor = this.normalColor})\n\n\n            //Make content available to Googlebot for indexing\n            if (navigator.userAgent.toLowerCase().indexOf(\"google\") !== -1) {\n                try {\n                    setTimeout(function(){button.dispatchEvent(new Event(\"click\"))}, 100)\n                }\n                catch(e) {}\n            }\n            //The code directly above this is used to allow Googlebot to index content.\n            //Shall it result in an SEO hit, or shall Googlebot be improved to handle content inside of JavaScript,\n            //It can safely be removed.\n\n\n            //Store button for reuse later\n            this.finished = button\n\n        }\n\n        this.finished.style.backgroundColor = this.finished.normalColor\n\n        //Return finished button\n        return this.finished\n\n    }\n\n\n    this.delete = function () {\n        let river = ItemHolder[locate]\n        function Remove(Code) {\n            let ToDelete = document.getElementById(river.base + Code)\n            if (ToDelete) {\n                ToDelete.parentNode.removeChild(ToDelete)\n            }\n        }\n\n        //Reset background color\n        let reset = document.getElementById(river.base + 1)\n        if (reset) {\n            reset.style.backgroundColor = \"\"\n        }\n\n        Remove(2)\n        Remove(1)\n\n    }\n}\n","\n//Auxillary Function\n//Creates the canvas used by each of the graphs\nfunction createcanvas() {\n    let canvas = document.createElement(\"canvas\")\n    canvas.width = 1200\n    canvas.height = 800 \n\n    //Make sure the background is not transparent\n    let ctx = canvas.getContext(\"2d\");\n    if (!window.darkMode) {\n        ctx.fillStyle = \"white\";\n    }\n    else {\n        //Dark Mode\n        ctx.fillStyle = \"black\"\n    }\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    return canvas\n}\n\n\n//Auxillary Function\nfunction toparts(arr) {\n    let values = []\n    let timestamps = []\n\n    for (let i=0;i<arr.length;i++) {\n        let obj = arr[i]\n        values.push(obj.value)\n        timestamps.push(obj.dateTime)\n    }\n\n    return {values:values,timestamps:timestamps}\n}\n\n\nfunction addFlowGraph(div, cfs, height) {\n    //Make sure we actually have some data, and don't create an empty graph\n    if (!(cfs || height)) {return}\n\n    let canvas = createcanvas()\n    //Time to create a dual lined graph!\n    if (cfs && height) {\n        let parts = toparts(cfs.values)\n        addLine(\"cfs\", parts.timestamps, data.name, canvas, 0, parts.values, \"#00AAFFa0\", 2)\n        parts = toparts(height.values)\n        addLine(\"height\", parts.timestamps, data.name, canvas, 0, parts.values, \"#2222FFa0\", 2, 1)                \n    }\n    //We won't have both cfs and height. Draw a single line graph for whichever we have.\n    else if (cfs) {\n        let parts = toparts(cfs.values)\n        addLine(\"cfs\", parts.timestamps, data.name, canvas, 0, parts.values, \"#00AAFF\")\n    }\n    else {\n        let parts = toparts(height.values)\n        addLine(\"height\", parts.timestamps, data.name, canvas, 0, parts.values, \"#2222FF\")    \n    }\n\n    //For some reason, only the last canvas was showing. Use images\n    //Images also allow \"Save Image As\"\n    let img = document.createElement(\"img\")\n    img.className = \"graph\"\n    //Blobs may be faster - but I don't know of a synchronus method\n    img.src = canvas.toDataURL(\"image/png\")\n\n    div.appendChild(img)\n}\n\n\nfunction addTempGraph(div, temp) {\n    if (temp) {\n        let canvas = createcanvas()\n\n        let parts = toparts(temp.values)\n        addLine(\"\", parts.timestamps, data.name, canvas, 0, parts.values, \"#FF0000\", 3, \"#0000FF\")\n\n        //For some reason, only the last canvas was showing. Use images\n        //Images also allow \"Save Image As\"\n        let img = document.createElement(\"img\")\n        img.className = \"graph\"\n        img.src = canvas.toDataURL(\"image/png\")\n        div.appendChild(img)\n    }\n}\n\n\n\nfunction addPrecipGraph(div, precip) {\n    if (precip) {\n        let canvas = createcanvas() \n\n        let parts = toparts(precip.values)\n        addLine(\"Precipitation\", parts.timestamps, data.name, canvas, 0, parts.values, \"#0066FF\")\n\n        //For some reason, only the last canvas was showing. Use images\n        //Images also allow \"Save Image As\"\n        let img = document.createElement(\"img\")\n        img.className = \"graph\"\n        img.src = canvas.toDataURL(\"image/png\")\n        div.appendChild(img)\n    }\n}\n\n\nmodule.exports.addGraphs = function(div, data) {\n\n    //Avoid erroring\n    if (!data) {\n        return;\n    }\n\n    //The graphing is wrapped in a try-catch statement because USGS often supplies invalid data\n    //for a specific river due to gauge problems.\n    //Each canvas is wrapped individually because sometimes only some graphs have invalid data\n\n    let temp = data[\"00010\"]\n    let precip = data[\"00045\"]\n    let cfs = data[\"00060\"]\n    let height = data[\"00065\"]\n\n\n    \n    div.innerHTML += \"<br><br><p class=\\\"pixel18 center\\\"><strong>Disclaimer: USGS Gauge data is provisional, and <em>MIGHT</em> be incorrect. Use at your own risk.</strong></p>\"\n\n    \n\n\n    try {\n        addFlowGraph(div, cfs, height)\n    }\n    catch(e){console.warn(\"Error creating flow graph: \" + e)}\n\n    try {\n        addTempGraph(div, temp)\n    }\n    catch(e){console.warn(\"Error creating temperature graph: \" + e)}\n\n    try {\n        addPrecipGraph(div, precip)\n    }\n    catch(e){console.warn(\"Error creating precipitation graph: \" + e)}\n}\n","function simpleSort(list, propertyName) {\n    list.sort(function(a,b) {\n        if (a[propertyName] > b[propertyName]) {\n            return 1;\n        }\n        if (a[propertyName] < b[propertyName]) {\n            return -1;\n        }\n        return 0;\n    })\n    return list\n}\n\n\nfunction alphabeticalsort(list, reverse) {\n    list = simpleSort(list, \"name\")\n\n    if (reverse) {\n        list.reverse()\n    }\n\n    return list\n}\n\nfunction ratingsort(list, reverse) {\n    list = simpleSort(list, \"rating\")\n\n    if (reverse) {\n        list.reverse()\n    }\n    //Move error values to end\n    while (list[0].rating === \"Error\") {\n        list.push(list.shift())\n    }  \n    return list\n}\n\n\nfunction skillsort(list, reverse) {\n    list.sort(function(a,b) {\n\n        function ToNum(value) {\n\n            switch (value.skill) {\n                case \"FW\":\n                    value = 1;\n                    break;\n                case \"B\":\n                    value = 2;\n                    break;\n                case \"N\":\n                    value = 3;\n                    break;\n                case \"LI\":\n                    value = 4;\n                    break;\n                case \"I\":\n                    value = 5;\n                    break;\n                case \"HI\":\n                    value = 6;\n                    break;\n                case \"A\":\n                    value = 7;\n                    break;\n                case \"E\":\n                    value = 8;\n                    break;\n                default:\n                    value = 9;\n            }\n            return value\n        }       \n        return ToNum(a)-ToNum(b)\n    })\n\n\n    if (reverse) {\n        list.reverse()\n        while (list[0].skill === \"?\") {\n            list.push(list.shift())\n        }\n    }\n\n    return list\n}\n\n\n\nfunction runningSort(list, reverse) {\n    \n    let noData = []\n    let hasGauge = []\n    let knownState = []\n    \n    list.forEach((item) => {\n        if (item.running !== undefined) {knownState.push(item)}\n        //If there is gauge data, the user may be able to determine level themselves\n        //As such, put rivers with gauges second\n        else if (item.flow) {hasGauge.push(item)}\n        else {noData.push(item)}\n    })\n    \n    knownState = simpleSort(knownState, \"running\")\n    \n    if (reverse) {\n        knownState.reverse()\n    }\n    \n    if (knownState.length === 0) {\n        alert(\"Flow data has not yet loaded.\")\n        return list\n    }    \n\n    knownState = knownState.concat(hasGauge)\n    knownState = knownState.concat(noData)\n\n    return knownState\n}\n\n\n\n\n\nfunction sort(method, list, reverse) {\n    if (method === \"alphabetical\") {\n        list = alphabeticalsort(list, reverse)\n    }\n    else if (method === \"rating\") {\n        list = ratingsort(list, reverse)\n    }\n    else if (method === \"skill\") {\n        list = skillsort(list, reverse)\n    }\n    else if (method === \"running\") {\n        list = runningSort(list, reverse)      \n    }\n    else {\n        throw \"Unknown sorting method \" + method\n    }\n    return list\n}\n\n\nmodule.exports = {\n    ratingsort,\n    alphabeticalsort,\n    skillsort,\n    sort\n}","function normalSearch(list, query) {\n    let l = [[],[],[],[],[]]\n    list.forEach(function(event){\n        if(event.tags.toLowerCase().indexOf(query) !== -1) {\n            if (event.name.toLowerCase().indexOf(query) !== -1) {\n                l[0].push(event)\n            }\n            else {\n                l[1].push(event)\n            }\n        }\n        else if (event.name.toLowerCase().indexOf(query) !== -1) {\n            l[2].push(event)\n        }\n        else if (event.section.toLowerCase().indexOf(query) !== -1) {\n            l[3].push(event)\n        }\n        else if (event.writeup.toLowerCase().indexOf(query) !== -1) {\n            l[4].push(event)\n        }\n    })\n\n    list = l[0].concat(l[1],l[2],l[3])\n\n    //Add the less relevant results below\n    list = list.concat(l[4])\n\n    return list\n}\n\n\n\n\n\n\n\n\n\n\n\nfunction stringQuery(parameters) {\n\n    let content = parameters.content\n    let query = parameters.query\n\n    //Ignore case by default\n    if (!parameters.matchCase) {\n        content = content.toLowerCase()\n        query = query.toLowerCase()\n    }\n\n    if (parameters.type === \"contains\") {\n        return content.includes(query)\n    }\n    else if (parameters.type === \"matches\") {\n        return content === query\n    }\n    else {\n        throw \"Unknown Search Type \" + parameters.type\n    }\n}\n\n\nfunction stringFilter(list, property, parameters) {\n    //Filter out the elements that fail the test\n    //Since we may be deleting elements in the list, items will be skipped if we use array.length\n    for (let item in list) {\n        parameters.content = list[item][property]\n        let passes = stringQuery(parameters)\n        if (!passes) {\n            //Remove the item if it fails\n            delete list[item]\n        }\n    }\n    return list\n}\n\n\n\nfunction skillToNumber(skill) {\n    let value\n    switch (skill) {\n        case \"FW\":\n            value = 1;\n            break;\n        case \"B\":\n            value = 2;\n            break;\n        case \"N\":\n            value = 3;\n            break;\n        case \"LI\":\n            value = 4;\n            break;\n        case \"I\":\n            value = 5;\n            break;\n        case \"HI\":\n            value = 6;\n            break;\n        case \"A\":\n            value = 7;\n            break;\n        case \"E\":\n            value = 8;\n    }\n    return value\n}\n\n\n\n\n\n\nfunction skillFilter(list, parameters) {\n\n    let query = parameters.query\n    let type = parameters.type\n\n    let min = Math.min(query[0], query[1])\n    let max = Math.max(query[0], query[1])\n\n    if (type !== \"from\") {throw \"Unknown search type\" + type}\n\n    for (let item in list) {\n\n        let passes = false;\n        let skill = skillToNumber(list[item].skill)\n\n        if (min <= skill && skill <= max) {\n            passes = true\n            console.log(min, skill, max)\n        }\n\n\n\n        if (!passes) {\n            //Remove the item if it fails\n            delete list[item]\n        }\n    }\t\n}\n\n\n\n\n\n\n\n\n\n\nfunction ratingFilter(list, parameters) {\n\n}\n\n\n\n\nlet calculateDistance = require(\"./distance.js\").lambert //Lambert formula\n\nfunction locationFilter(list, parameters) {\n\n    let maxDistance = parameters.distance\n    let lat1 = parameters.lat\n    let lon1 = parameters.lon\n\n    //Filter out the elements that fail the test\n    //Since we may be deleting elements in the list, items will be skipped if we use array.length\n    for (let item in list) {\n        let river = list[item]\n\n        let lat2 = river.plat || river.tlat || river.hidlat\n        let lon2 = river.plon || river.tlon || river.hidlon\n\n        let passes;\n        if (lat2 && lon2) {\n            let distance = calculateDistance(lat1, lon1, lat2, lon2)\n\n            passes = distance < maxDistance\n        }\n        else {\n            //TODO: If we only have one of two coordinates, we may still be able to eliminate it\n            passes = parameters.includeUnknown\n        }\n\n        if (!passes) {\n            //Remove the item if it fails\n            delete list[item]\n        }\n    }\n    return list\n\n}\n\n//Query is in form of:\n//{\n//  name: {\n//    type: \"matches\",\n//    query: \"potomac\"\n//},\n//section: {\n//    type: \"contains\",\n//    query: \"something\"\n//  },\n// skill: {\n//\ttype:\"\" //easier harder exactly from\n//\tvalue: 3 //An array of 2 if from\n//from is inclusive (From medium to hard)\n//},\n//location:{\n//\tdistance: 100 //Maximum distance in miles\n//\tlat: 78//Starting latitude\n//\tlon:-56 //Starting londitude\n//\tincludeUnknown: false //Do not eliminate if location not known \n//}\n//}\n\n\n\n//This doesn't work for difficulty and rating - no greater than or equal to.\n//That needs to be added\nfunction advancedSearch(list, query) {\n    //List is the array of river elements that we are searching\n    //Query is the search parameters\n    console.log(query)\n\n    for (let property in query) {\n        //Iterate through each part of the query\n\n        let parameters = query[property]\n\n\n        if ([\"name\", \"section\", \"writeup\"].includes(property)) {\n            stringFilter(list, property, parameters)\n        }\n        else if (property === \"skill\") {\n            skillFilter(list, parameters)\n        }\n        else if (property === \"rating\") {\n            ratingFilter(list, parameters)\n        }\n        else if (property === \"location\") {\n            locationFilter(list, parameters)\n        }\n        else if (property === \"sort\") {\n\n        }\n        else {\n            alert(\"Unable to search based on \" + property)\n        }\n\n\n\n\n\n    }\n\n    return list\n}\n\n\n\n\n\n\nmodule.exports = {\n    normalSearch,\n    advancedSearch\n}\n\n\n\n\n\n\n//Prepare the Advanced Search button\nlet advanced_search_modal = document.getElementById('advanced-search-modal');\n\nlet span = document.getElementById(\"advanced-search-modal-close\").onclick = function() {\n    advanced_search_modal.style.display = \"none\"\n}\n\nwindow.addEventListener(\"click\", function(event) {\n    if (event.target === advanced_search_modal) {\n        advanced_search_modal.style.display = \"none\"\n    }\n})\n\ndocument.getElementById(\"advancedsearch\").addEventListener(\"click\", function() {\n    advanced_search_modal.style.display = \"block\"\n})\n\n\n\n\n","function lambert(lat1, lon1, lat2, lon2) {\n\t//Should be accurate to <100 meters\n\t\n\t//Parameters from WGS-84\n\tlet radius = 3963.1905919430524 //Equatorial radius in miles\n\tlet flattening = 0.0033528106647474805\n\n\tlat1 = lat1 * Math.PI / 180\n\tlon1 = lon1 * Math.PI / 180\n\tlat2 = lat2 * Math.PI / 180\n\tlon2 = lon2 * Math.PI / 180\n\n\tlet ratio = 1-flattening\n\t\n\tlet reducedLat1 = Math.atan(ratio*Math.tan(lat1))\n\tlet reducedLat2 = Math.atan(ratio*Math.tan(lat2))\n\t\n    //Spherical Law of Cosines\n\tlet angle = Math.acos(Math.sin(reducedLat1) * Math.sin(reducedLat2) + Math.cos(reducedLat1) * Math.cos(reducedLat2) * Math.cos(lon2-lon1))\n\t\n\tlet p = (reducedLat1+reducedLat2)/2\n\tlet q = (reducedLat2-reducedLat1)/2\n\tlet x = (angle - Math.sin(angle)) * (((Math.sin(p)**2)*(Math.cos(q)**2))/(Math.cos(angle/2)**2))\n\tlet y = (angle + Math.sin(angle)) *(((Math.cos(p)**2)*(Math.sin(q)**2))/(Math.sin(angle/2)**2))\n\treturn radius*(angle-((flattening/2)*(x+y)))\t\n}\n\n\nmodule.exports = {\n  lambert\n}\n","self.usgsarray = {} \n\nlet loadUSGS = async function() {\n\n    var sites = []\n    for (let i=0;i<riverarray.length;i++) {\n        let val = riverarray[i].usgs\n        //Check for accuracy\n        if (val && val.length > 7 && val.length < 16) {\n            sites.push(val)\n        }\n    }\n    let url = \"https://waterservices.usgs.gov/nwis/iv/?format=json&sites=\" + sites.join(\",\") +  \"&startDT=\" + new Date(Date.now()-1000*86400).toISOString()  + \"&parameterCd=00060,00065,00010,00045&siteStatus=all\"\n\n    let usgsdata;\n    if (window.fetch) {\n        let response = await fetch(url)\n        usgsdata = await response.json()    \n    }\n    else {\n        //For browsers that don't support fetch\n        let request = new XMLHttpRequest()\n        let response = await new Promise((resolve, reject) => {\n            request.onload = function(event) {resolve(event.target.response)};\n            request.open(\"GET\", url);\n            request.send()\n        })\n        usgsdata = JSON.parse(response)\n    }\n\n    //Iterate through all known conditions\n    usgsdata.value.timeSeries.forEach(function(event){\n        let obj2 = {}\n        obj2.values = event.values[0].value //The values - ex. Gauge Height Array\n\n        if (obj2.values.length === 0) {\n            console.log(\"Empty Array. Skipping\")\n            return;\n        }\n\n        obj2.units = event.variable.variableDescription //Units of values\n\n        let sitecode = event.sourceInfo.siteCode[0].value\n        //See if the site is already in the array.\n        //If the site code is not in the array, add it. \n        if (!usgsarray[sitecode]) {\n            let obj3 = {}\n            obj3.name = event.sourceInfo.siteName\n            usgsarray[sitecode] = obj3\n        }\n\n        let variablecode = event.variable.variableCode[0].value\n\n        //Convert celcius to farenheight\n        if (variablecode === \"00010\" && obj2.units === \"Temperature, water, degrees Celsius\") {\n            for (let i=0;i<obj2.values.length;i++) {\n                obj2.values[i].value = obj2.values[i].value * 1.8 + 32\n            }\n\n            obj2.units = \"Temperature, water, degrees Fahrenheit\"\n        }\n\n\n        //Add the values onto the site code object\n        usgsarray[sitecode][variablecode] = obj2\n    })\n\n    //Add USGS Data to Graph\n    for (let i=0;i<ItemHolder.length;i++) {\n        let item = ItemHolder[i]\n        let data = usgsarray[item.usgs]\n\n        if (data) {\n            let cfs = data[\"00060\"]\n            let feet = data[\"00065\"]\n\n            //Prevent \"TypeError: Can't Read Property 'values' of undefined\"\n            if (cfs) {cfs = cfs.values}\n            if (feet) {feet = feet.values}\n\n\n            let latestCfs, latestFeet;\n            if (cfs) {\n                latestCfs = cfs[cfs.length - 1].value\n            }\n            if (feet) {\n                latestFeet = feet[feet.length - 1].value\n            }\n\n            item.feet = latestFeet\n            item.cfs = latestCfs\n\n            if (latestCfs && latestFeet) {\n                item.flow = latestCfs + \"cfs \" + latestFeet + \"ft\"\n            }\n            else if (latestCfs) {\n                item.flow = cfs[cfs.length - 1].value + \" cfs\"\n            }\n            else if (latestFeet) {\n                item.flow = feet[feet.length - 1].value + \" ft\" \n            }\n\n            //item.create(true) will force regeneration of the button\n            //Replace the current button so that the flow info shows \n            let elem = document.getElementById(item.base + \"1\")\n            let expanded = item.expanded\n            console.log(expanded)\n            let replacement = item.create(true) //Update the version in cache\n            try {\n                elem.parentNode.replaceChild(replacement, elem)\n                //If the river was expanded before, keep it expanded\n                if (expanded) {\n                    replacement.dispatchEvent(new Event(\"click\"))\n                    //For some reason, the automatically opened buttons and the manually opened buttons behave different.\n                    if (navigator.userAgent.toLowerCase().indexOf(\"google\") === -1) {\n                        replacement.dispatchEvent(new Event(\"click\"))\n                    }\n                }\n            }\n            catch (e) {} //The list must have been sorted - the node was not currently in list\n        }\n    }\n\n}\n\n\nexport {\nloadUSGS\n}","\n\nfunction drawColors(canvas, height) {\n\n    let context = canvas.getContext(\"2d\")\t\n\n    //Some browsers flip screen.width and screen.height on rotation - some don't\n\n    //window.innerWidth fails - the window is expanded to handle the width of the legend\n    //Then the legend doesn't resize (because the window has resized to it) \n\n    //This seems to be the only cross browser solution\n    canvas.width = document.documentElement.clientWidth\n    canvas.height = height\n\n    let gradient = context.createLinearGradient(0,0,canvas.width,canvas.height) //Not sure about parameters  \n\n    let redLightness = \"50%\"\n    let redColor = \"hsla(0,100%,\" + redLightness + \",0.6)\"\n    \n    gradient.addColorStop(0, redColor)\n    gradient.addColorStop(0.08, redColor)\n    \n    let start = 0.08\n    let end = 0.92\n\n    let range = end-start\n    //240 is number of whole number hsl values\n\n    for (let i=0;i<=240;i++) {\n        gradient.addColorStop(start + (i/240*range), \"hsla(\" + i + \",100%,50%,0.3)\")\t\n    }\n\n    gradient.addColorStop(0.92, \"hsla(240,100%,50%,0.6)\")\n    gradient.addColorStop(1, \"hsla(240,100%,50%,0.6)\")\n\n    context.fillStyle = gradient\n    context.fillRect(0,0,canvas.width,canvas.height)\t\n\n}\n\n\n\nfunction drawText(canvas, fontSize) {\n\n    let context = canvas.getContext(\"2d\")\t\n    context.fillStyle = window.darkMode ? \"white\" : \"black\"\n\n    //The fourth parameter is the maximum width of the text in pixels\n    //rivers.run may want to use it\n\n    let height = fontSize\n\n    context.font = fontSize + \"px Arial\"\n\n    context.textAlign = \"start\"\n    context.fillText(\"Too Low\", 0, height)\n\n    context.textAlign = \"center\"\n    context.fillText(\"Low Flow\", canvas.width*0.28, height)\n    context.fillText(\"Mid Flow\", canvas.width/2, height)\n    context.fillText(\"High Flow\", canvas.width*0.72, height)\n\n\n    //Black text on blue is near inivisible - so use white text on blue\n    if (!window.darkMode) {context.fillStyle = \"white\"} \n\n    context.textAlign = \"end\"\n    context.fillText(\"Too High\", canvas.width, height, canvas.width*0.2)\n\n}\n\n\nfunction makeSticky(canvas) {\n    //Make the legend stick to the top of the screen\n\n    //position: sticky failed in Safari\n    //canvas.style.position = \"-webkit-sticky\"\n    //canvas.style.position = \"sticky\"\n    //canvas.style.top = 0\n\n    let elementOffset = canvas.offsetTop\n    window.addEventListener(\"scroll\", function() {\n        let pageOffset = window.pageYOffset\n\n        if (pageOffset > elementOffset) {\n            canvas.style.position = \"fixed\"\n            canvas.style.top = 0\n            document.body.style.paddingTop = canvas.height + \"px\" //Avoid sudden jerk in page content\n        }\n        else {\n            canvas.style.position = \"\"\n            canvas.style.top = \"\"\n            document.body.style.paddingTop = 0\n        }\n    })\n}\n\n\nfunction updateLegend() {\n    try {\n    let canvas = document.getElementById(\"legend\")\n\n    canvas.getContext(\"2d\").clearRect(0,0,canvas.width,canvas.height)\n\n    canvas.style.backgroundColor = window.getComputedStyle(document.body).getPropertyValue(\"background-color\")\n\n\n    let fontSize = parseFloat(window.getComputedStyle(document.getElementById(\"Rivers\").firstChild).getPropertyValue(\"font-size\"))\n\n    let height;\n    //Picked what I thought looked best\n    if (fontSize > 18) {\n        height = 10 + fontSize*2\n    }\n    else if (fontSize > 14.8){\n        fontSize *= 1.2\n        height = 10 + fontSize*2\n    }\n    else {\n        fontSize *= 1.4\n        height = 10 + fontSize*2\n    }\n\n    drawColors(canvas, height)\n    drawText(canvas, fontSize)\n    makeSticky(canvas)\n    }\n    catch (e) {\n        //Something went badly wrong. Prevent from taking down whole page.\n        console.error(\"Legend failed to draw. Logging error.\")\n        console.error(e)\n    }\n\n}\n\nwindow.addEventListener(\"resize\", updateLegend)\n//orientationchange should be fired on resize, but some browsers (such as Safari) do not\nwindow.addEventListener(\"orientationchange\", updateLegend)\n\nupdateLegend()"],"sourceRoot":""}