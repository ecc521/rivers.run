!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var o;n(1),self.addLine=n(2).addLine,Object.assign(self,n(3)),self.River=n(4).River,self.sort=n(6).sort,Object.assign(self,n(7)),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js")}),self.ItemHolder=[],riverarray.map(function(e,t){ItemHolder[t]=new River(t,e)}),n(9).loadUSGS(),window.NewList=function(e,t,n){"string"==typeof e&&(e=e.toLowerCase());let i=ItemHolder.slice(0);if(0!==String(e).length&&e&&t&&("sort"===t&&(o&&(i=o),i=sort(e,i,n)),"normal"===t&&(i=normalSearch(i,e)),"advanced"===t&&(i=advancedSearch(i,e)),"location"===t)){o&&(i=o);var a=[];i.forEach(function(t){t.plat&&t.plon&&distanceto(t.plat,t.plon)<e&&a.push(t)}),i=a}ItemHolder.forEach(function(e){e.delete()});var l=document.getElementById("Rivers");i.forEach(function(e){l.appendChild(e.create())}),"sort"!==t&&(o=i)},document.getElementById("Rivers").appendChild((new TopBar).create()),n(10),NewList("alphabetical","sort");let i=document.getElementById("searchbox");if(i.addEventListener("keydown",function(){setTimeout(function(){NewList(i.value,"normal")},20)}),document.getElementById("calculateCoordinates").addEventListener("click",async function(){let e,t=document.getElementById("locationProgress"),n=0,o=setInterval(function(){n=(n+1)%6,t.innerHTML="Calculating your Approximate Location (Expect this to take 15-60 seconds)"+".".repeat(n)},500);try{e=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t)})}catch(e){let n="Error code "+e.code+" occoured when getting your location. The error message is: "+e.message;alert(n),clearInterval(o),t.innerHTML=n}let i=e.coords;clearInterval(o),document.getElementById("latitudeQuery").value=i.latitude,document.getElementById("longitudeQuery").value=i.longitude,t.innerHTML="You are within "+i.accuracy+" meters of "+i.latitude+" degrees latitude and "+i.longitude+" degrees longitude."}),document.getElementById("performadvancedsearch").addEventListener("click",function(){let e=function(){let e={};e.name={type:document.getElementById("nameType").value,query:document.getElementById("nameQuery").value},e.section={type:document.getElementById("sectionType").value,query:document.getElementById("sectionQuery").value},e.writeup={type:document.getElementById("writeupType").value,query:document.getElementById("writeupQuery").value};let t=Number(document.getElementById("distanceQuery").value),n=document.getElementById("latitudeQuery").value,o=document.getElementById("longitudeQuery").value;return n=Number(n),o=Number(o),t>0||!n||!o?!(t>0)||n&&o?t>0&&n&&o&&(e.location={lat:n,lon:o,distance:t,includeUnknown:document.getElementById("includeUnknown").checked}):alert("You must enter a latitude and longitude (Get the coordinates from GPS by pressing Calculate my Location)"):alert("Distance must be a number greater than 0 to use location sorting"),e.skill={type:"from",query:[Number(document.getElementById("skillQuery1").value),Number(document.getElementById("skillQuery2").value)]},e}(),t=window.location.href;t=t.slice(0,t.lastIndexOf("/")+1);let n=encodeURI(t+"#"+JSON.stringify(e));document.getElementById("searchlink").innerHTML='Link to this search: <a href="'+n+'">'+n+"</a>",NewList(e,"advanced",!1)}),window.location.hash.length>0){let e=decodeURI(window.location.hash.slice(1));try{let t=JSON.parse(e);NewList(t,"advanced")}catch(t){document.getElementById("searchbox").value=e,NewList(e,"normal")}}},function(e,t){let n=document.styleSheets[0];if(!n){console.warn("No stylesheet available. There must be an existing stylesheet in order for allPages.js to function properly without inline style allowed or without document.body.");let e=document.createElement("style");document.body.appendChild(e),n=document.styleSheets[0]}try{if(n.cssRules[n.cssRules.length-1]instanceof CSSMediaRule){if(window.darkMode=localStorage.getItem("prefersDarkMode"),"null"===window.darkMode&&(window.darkMode=null),"false"===window.darkMode&&(window.darkMode=!1),"true"===window.darkMode&&(window.darkMode=!0),null===window.darkMode&&(window.darkMode=window.matchMedia("(prefers-color-scheme: dark)").matches),!0===window.darkMode&&!1===window.matchMedia("(prefers-color-scheme: dark)").matches){let e=n.cssRules[n.cssRules.length-1].cssText,t=(e=e.slice(e.indexOf("{")+1,-1)).split("\n");for(let e=0;e<t.length;e++){let o=t[e];""!==o.trim()&&n.insertRule(o,n.cssRules.length)}}!1===window.darkMode&&!0===window.matchMedia("(prefers-color-scheme: dark)").matches&&n.removeRule(n.cssRules.length-1),window.darkMode&&(n.insertRule("a:link {color: #3333FF;}",n.cssRules.length),n.insertRule("a:visited {color: purple;}",n.cssRules.length),n.insertRule("a:hover {color: green;}",n.cssRules.length),n.insertRule("a:active {color: red;}",n.cssRules.length))}}catch(e){console.error(e)}n.insertRule("html body {font-family: Arial, Helvetica, sans-serif}",n.cssRules.length);let o=window.location.href;o=o.slice(0,o.lastIndexOf("/")+1);let i=document.createElement("div");i.className="topnav";let a=[],l=document.createElement("a");l.href=o,l.innerHTML="River Info",a.push(l);let r=document.createElement("a");r.href=o+"about.html",r.innerHTML="About",a.push(r);let s=document.createElement("a");s.href=o+"FAQ.html",s.innerHTML="FAQ",a.push(s);let d=document.createElement("a");d.href=o+"settings.html",d.innerHTML="Settings",a.push(d);let c=document.createElement("a");c.href=o+"clubs.html",c.innerHTML="Clubs",a.push(c);let u=window.location.href.slice(o.length);-1!==u.indexOf("#")&&(u=u.slice(0,u.indexOf("#")));for(let e=0;e<a.length;e++){let t=a[e];t.href.slice(o.length)===u&&(t.className="topnavcurrent"),i.appendChild(t)}document.body.insertBefore(i,document.body.firstChild),n.insertRule("\n.topnav {\n    overflow: hidden;\n    background-color: #24b9cc;\n    margin:0px;\n}\n",n.cssRules.length),n.insertRule("\n.topnav a {\n    float: left;\n    display: block;\n    color:black;\n    text-align:center;\n    padding: 12px 13px;\n    text-decoration: none; /*Avoid the links being underlined*/\n    font-size: 17px;\n}\n",n.cssRules.length),n.insertRule("\n@media screen and (max-width: 386px) {\n    .topnav a {\n        padding: 10px 11px;\n        font-size: 4.3vw;\n    }\n}\n",n.cssRules.length),n.insertRule(".topnav a:hover {background-color: #359daa}",n.cssRules.length),n.insertRule(".topnavcurrent {background-color: #25d1a7}",n.cssRules.length),n.insertRule("\n.modal {\ndisplay: none; \nposition:fixed; \nz-index:1; \npadding-top: 5%;\nleft:0;\ntop:0;\nwidth:100%;\nheight: 100%;\noverflow:auto;\nbackground-color: rgba(0,0,0,0.4);\n}",n.cssRules.length),n.insertRule("\n.modal-content {\ncolor:black;\nbackground-color: #fefefe;\nmargin: auto;\npadding: 20px;\nborder: 1px solid #888;\nwidth: 90%;\n}",n.cssRules.length),n.insertRule("\n.modal-close {\ncolor: #aaaaaa;\nfloat: right;\nfont-size: 28px;\nfont-weight: bold;\n}",n.cssRules.length),n.insertRule("\n.modal-close:hover, .modal-close:focus {\ncolor: #000;\ntext-decoration: none;\ncursor: pointer;\n}",n.cssRules.length),window.darkMode&&n.insertRule("\t\n.modal-content {\nbackground-color:black;\ncolor:#cfcfcf;\n}",n.cssRules.length);let h=document.createElement("div");h.className="modal";let f=document.createElement("div");f.className="modal-content";let m=document.createElement("span");m.className="modal-close",m.innerHTML="×";let g=document.createElement("p");h.appendChild(f),f.appendChild(m),f.appendChild(g),document.body.appendChild(h),m.onclick=function(){h.style.display="none"},window.addEventListener("click",function(e){e.target===h&&(h.style.display="none")});class p extends HTMLElement{constructor(){super(),this.style.cursor="pointer",this.style.color="rgb(51, 51, 255)",this.style.textDecoration="underline",this.addEventListener("click",function(){let e="This overview ("+this.innerHTML+") is not available. This is likely due to a programming or data entry error";window.overviews&&window.overviews[this.innerHTML]&&(e=window.overviews[this.innerHTML]),g.innerHTML=e,h.style.display="block"})}}try{customElements.define("river-overview",p)}catch(e){console.error(e),navigator.userAgent.includes("Firefox")&&setTimeout(function(){alert("In order to view area overviews, you will need a browser that supports DOM customElements. You may be able to enable customElements in about:config")},4e3)}},function(e,t){e.exports.addLine=function(e,t,n,o,i,a,l,r,s){if(3===r)var d=s;2!==r&&(s=0);var c=.8*o.height,u=o.width,h=o.getContext("2d");if(!isNaN(Number(i))){i=[];for(var f=0;f<a.length;f++)i.push(f*u)}i.length!==a.length&&console.warn("Uneven amount of datapoints. "+i.length+" horizontal points found, but "+a.length+" vertical points found."),void 0===l&&(l="#000000"),h.strokeStyle=l,h.lineWidth=Math.ceil(Math.min(u,c)/120),h.beginPath(),u*=2===r?.86:.93;var m=[];for(f=0;f<a.length;f++)isNaN(Number(a[f]))||""===a[f]||m.push(a[f]);var g=Math.max(...m)-Math.min(...m),p=Math.max(...i)-Math.min(...i);g=c/g,p=u/p;var w=Math.min(...m),v=Math.min(...i);v-=.07*(Math.max(...i)-Math.min(...i));var y=Math.floor(.07*o.width/2.6);(h.font=y+"px serif",9===l.length&&(l=l.slice(0,7)),h.fillStyle=l,3===r)&&((R=h.createLinearGradient(0,0,0,c)).addColorStop(0,l),R.addColorStop(1,d),h.strokeStyle=R,h.fillStyle=R);if(0===s||void 0===s)var b=1;else b=o.width-.07*o.width;for(f=1;f<11;f++){var M=(Math.max(...m)-Math.min(...m))*((f-1)/10)+Math.min(...m);let e=Math.max(0,3-String(Math.round(M)).length);M=Number(M.toFixed(e)),h.fillText(M,b,c*(11-f)/10-5)}M=(Math.max(...m)-Math.min(...m))*((f-1)/10)+Math.min(...m);let k=Math.max(0,3-String(Math.round(M)).length);M=Number(M.toFixed(k)),h.fillText(M,b,27);y=Math.floor(.07*o.width/2.8);function x(e){var t=String(e.getHours());return e.getHours()<10&&(t+="0"),t+=":"+e.getMinutes(),e.getMinutes()<10&&(t+="0"),t+=" "+(e.getMonth()+1)+"/"+e.getDate()+"/"+e.getFullYear()}h.font=y+"px serif",9===l.length&&(l=l.slice(0,7)),window.darkMode?h.fillStyle="#cccccc":h.fillStyle="black";var E=new Date(t[0]),C=new Date(t[t.length-1]),L=new Date((C-E)/2+E.getTime()),T=x(E),S=x(C),I=x(L);h.fillText(T,10,o.height*(11/12)-.06*o.height-12),h.textAlign="end",h.fillText(S,o.width-10,o.height*(11/12)-.06*o.height-12),h.textAlign="center",h.fillText(I,o.width/2,o.height*(11/12)-.06*o.height-12),h.textAlign="start";var R;y=Math.floor(.07*o.width/2.4);(h.font=y+"px serif",h.fillStyle=l,3===r)&&((R=h.createLinearGradient(0,c,200,c)).addColorStop(0,l),R.addColorStop(1,d),h.strokeStyle=R,h.fillStyle=R);if(2===r)0===s||void 0===s?h.fillText("Flow (Cubic Feet/Second)",b+5,o.height*(11/12)):(h.textAlign="right",h.fillText("Gauge Height (Feet)",b-5,o.height*(11/12)),h.textAlign="start");else if(3===r)h.fillText("Water Temperature (°F)",b+5,o.height*(11/12));else if("Precipitation"===e){h.fillText("Precipitation (Inches)",b+5,o.height*(11/12));var N,F=0,H=0;(N=(N=a.slice(-96)).map(Number)).forEach(function(e){F+=e}),(N=N.slice(-48)).forEach(function(e){H+=e}),F=F.toFixed(2),H=H.toFixed(2),h.fillText("Last 24 Hours: "+F+" in",o.width-700,o.height*(11/12)),h.fillText("Last 12 Hours: "+H+" in",o.width-330,o.height*(11/12))}else"cfs"===e?h.fillText("Flow (Cubic Feet/Second)",b+5,o.height*(11/12)):"height"===e?h.fillText("Gauge Height (Feet)",b+5,o.height*(11/12)):h.fillText("Labeling Error...",b+5,o.height*(11/12));3===r&&((R=h.createLinearGradient(0,0,0,.8*o.height)).addColorStop(0,l),R.addColorStop(1,d),h.strokeStyle=R,h.fillStyle=R);function B(e){return Math.round((e-v)*p)}function A(e){return Math.round(c-(e-w)*g)}window.darkMode?h.fillStyle="#cccccc":h.fillStyle="black",h.textAlign="center",h.fillText(n,o.width/2,o.height-10),h.textAlign="start";for(var O=0;O<Math.min(a.length,i.length);O++)if(!isNaN(Number(a[O]))&&""!==a[O]){h.moveTo(B(i[O]),A(a[O]));break}var P=1;for(f=O;f<Math.min(a.length,i.length);f++)isNaN(Number(a[f]))||""===a[f]?P=0:1===P?h.lineTo(B(i[f]),A(a[f])):(h.moveTo(B(i[f]),A(a[f])+10),h.lineTo(B(i[f]),A(a[f])),P=1);h.stroke(),h.beginPath(),h.lineWidth=Math.ceil(h.lineWidth/10),window.darkMode?h.strokeStyle="#ccccccAA":h.strokeStyle="000000AA";for(f=1;f<11;f++)h.moveTo(0,c*(11-f)/10),h.lineTo(o.width,c*(11-f)/10);h.stroke()}},function(e,t){function n(e){let t=document.createElement("span");return t.className="riverspan",t.innerHTML=e,t}function o(e,t){e.onclick=function(){1===this.value?(NewList(t,"sort",!0),this.value=0):(NewList(t,"sort"),this.value=1)}}e.exports={TopBar:function(){this.create=function(){let e=document.createElement("button");e.id="topbar",e.className="riverbutton";let t=n("River⇅");return o(t,"alphabetical"),t.value=1,e.appendChild(t),e.appendChild(n("Section")),o(t=n("Skill⇅"),"skill"),t.value=0,e.appendChild(t),o(t=n("Rating⇅"),"rating"),t.value=1,e.appendChild(t),o(t=n("Flow Info/Trend⇅"),"running"),t.value=1,e.appendChild(t),e},this.delete=function(){let e=document.getElementById("topbar");e&&e.parentNode.removeChild(e)}}}},function(e,t,n){let o=n(5).addGraphs;function i(e,t){let n,o,i=["minrun","lowflow","midflow","highflow","maxrun"];for(let t=0;t<i.length;t++){let o=e[i[t]];if(!o){i[t]=void 0;continue}o=o.trim();let a=parseFloat(o),l=o.match(/[^\d|.]+/);if(l&&(l=l[0].trim()),!n&&l)n=l;else if(n!==l){console.warn(i[t]+" on "+e.name+" "+e.section+" has a different extension and has been skipped"),i[t]=void 0;continue}i[t]=a}"cfs"===n?o=e.cfs:"feet"!==n&&"ft"!==n||(o=e.feet);let a=t&&t.lightness||"50%";if(o<=i[0]){return e.running=0,"hsl(0,100%,"+(t&&t.lightness||"50%")+",60%)"}if(o>=i[4])return e.running=4,"hsl(240,100%,"+a+",60%)";{let t=i[0],r=i[4],s=i[2]||10**((Math.log10(t)+Math.log10(r))/2),d=i[1]||10**((Math.log10(t)+Math.log10(s))/2),c=i[3]||10**((Math.log10(s)+Math.log10(r))/2);function l(e,t,n){return e=Math.log(e),t=Math.log(t),((n=Math.log(n))-e)/(t-e)}return e.lowflow=parseFloat(d.toFixed(3))+n,e.midflow=parseFloat(s.toFixed(3))+n,e.highflow=parseFloat(c.toFixed(3))+n,e.running=o<d?l(t,d,o):o<s?1+l(d,s,o):o<c?2+l(s,c,o):3+l(c,r,o),"hsl("+(0+60*e.running)+",100%,"+a+",30%"}}e.exports.River=function(e,t){switch(Object.assign(this,t),this.tags=this.tags||"",Number(this.rating)){case 1:this.rating="1Star";break;case 2:case 3:case 4:case 5:this.rating=t.rating+"Stars";break;default:this.rating="Error"}this.rating||(this.rating="Error"),this.base="b"+e,this.expanded=0,this.index=e,this.create=function(t){if(!this.finished||t){var n=document.createElement("button");function a(e){let t=document.createElement("span");return t.innerHTML=e,t.className="riverspan",n.appendChild(t),t}if(n.id=this.base+1,n.normalColor=(window.darkMode,""),n.focusedColor=window.darkMode?"#333333":"#e3e3e3",a(this.name),a(this.section),a(this.skill),"Error"===this.rating)a("???");else{let e=document.createElement("img");e.src="resources/"+this.rating+".png",e.alt=this.rating[0]+" Stars",e.className="starimg";let t=document.createElement("span");t.appendChild(e),t.className="riverspan",n.appendChild(t)}if(this.flow){a(this.flow+" "+function(e){let t=usgsarray[e];if(t){let e;if(t["00060"]?e=t["00060"].values:t["00065"]&&(e=t["00065"].values),e){let t,n,o=Math.max(e.length-5,0);for(let i=e.length;i>o;i--){let o=e[i];if(!o)continue;let a=o.value;t?n=a:t=a}if(t>n)return"⬆";if(n>t)return"⬇";if(t===n)return"-"}}}(this.usgs));this.minrun&&this.maxrun&&(n.normalColor=i(this),n.focusedColor=window.darkMode?i(this,{lightness:"75%"}):i(this,{lightness:"35%"}))}if(n.className="riverbutton",function(e,t){e.onclick=function(){let n=ItemHolder[t];if(0===n.expanded){n.expanded=1;var i=document.createElement("div");i.innerHTML=n.writeup+"<br><br>",n.plat&&n.plon&&(i.innerHTML+="Put-In GPS Coordinates: "+n.plat+", "+n.plon+"<br>"),n.tlat&&n.tlon&&(i.innerHTML+="Take-Out GPS Coordinates: "+n.tlat+", "+n.tlon+"<br>");let t=["minrun","lowflow","midflow","highflow","maxrun"];for(let e=0;e<t.length;e++){let o=t[e];n[o]&&(i.innerHTML+=o+":"+n[o]+" ")}if(n.aw){i.appendChild(document.createElement("br"));let e=document.createElement("a");e.href="https://www.americanwhitewater.org/content/River/detail/id/"+n.aw,e.innerHTML="Click here to view this river on American Whitewater",i.appendChild(e)}self.usgsarray&&(data=self.usgsarray[n.usgs],o(i,data)),i.style.padding="6px",i.id=n.base+2,e.parentNode.insertBefore(i,e.nextSibling)}else{n.expanded=0;var a=document.getElementById(n.base+2);a&&a.parentNode.removeChild(a)}}}(n,e),n.addEventListener("mouseover",function(){this.style.backgroundColor=this.focusedColor}),n.addEventListener("mouseout",function(){this.style.backgroundColor=this.normalColor}),-1!==navigator.userAgent.toLowerCase().indexOf("google"))try{setTimeout(function(){n.dispatchEvent(new Event("click"))},100)}catch(e){}this.finished=n}return this.finished.style.backgroundColor=this.finished.normalColor,this.finished},this.delete=function(){let t=ItemHolder[e];function n(e){let n=document.getElementById(t.base+e);n&&n.parentNode.removeChild(n)}let o=document.getElementById(t.base+1);o&&(o.style.backgroundColor=""),n(2),n(1)}}},function(e,t){function n(){let e=document.createElement("canvas");e.width=1200,e.height=800;let t=e.getContext("2d");return window.darkMode?t.fillStyle="black":t.fillStyle="white",t.fillRect(0,0,e.width,e.height),e}function o(e){let t=[],n=[];for(let o=0;o<e.length;o++){let i=e[o];t.push(i.value),n.push(i.dateTime)}return{values:t,timestamps:n}}function i(e,t,i){if(!t&&!i)return;let a=n();if(t&&i){let e=o(t.values);addLine("cfs",e.timestamps,data.name,a,0,e.values,"#00AAFFa0",2),e=o(i.values),addLine("height",e.timestamps,data.name,a,0,e.values,"#2222FFa0",2,1)}else if(t){let e=o(t.values);addLine("cfs",e.timestamps,data.name,a,0,e.values,"#00AAFF")}else{let e=o(i.values);addLine("height",e.timestamps,data.name,a,0,e.values,"#2222FF")}let l=document.createElement("img");l.className="graph",l.src=a.toDataURL("image/png"),e.appendChild(l)}function a(e,t){if(t){let i=n(),a=o(t.values);addLine("",a.timestamps,data.name,i,0,a.values,"#FF0000",3,"#0000FF");let l=document.createElement("img");l.className="graph",l.src=i.toDataURL("image/png"),e.appendChild(l)}}function l(e,t){if(t){let i=n(),a=o(t.values);addLine("Precipitation",a.timestamps,data.name,i,0,a.values,"#0066FF");let l=document.createElement("img");l.className="graph",l.src=i.toDataURL("image/png"),e.appendChild(l)}}e.exports.addGraphs=function(e,t){if(!t)return;let n=t["00010"],o=t["00045"],r=t["00060"],s=t["00065"];e.innerHTML+='<br><br><p class="pixel18 center"><strong>Disclaimer: USGS Gauge data is provisional, and <em>MIGHT</em> be incorrect. Use at your own risk.</strong></p>';try{i(e,r,s)}catch(e){console.warn("Error creating flow graph: "+e)}try{a(e,n)}catch(e){console.warn("Error creating temperature graph: "+e)}try{l(e,o)}catch(e){console.warn("Error creating precipitation graph: "+e)}}},function(e,t){function n(e,t){return e.sort(function(e,n){return e[t]>n[t]?1:e[t]<n[t]?-1:0}),e}function o(e,t){return e=n(e,"name"),t&&e.reverse(),e}function i(e,t){for(e=n(e,"rating"),t&&e.reverse();"Error"===e[0].rating;)e.push(e.shift());return e}function a(e,t){if(e.sort(function(e,t){function n(e){switch(e.skill){case"FW":e=1;break;case"B":e=2;break;case"N":e=3;break;case"LI":e=4;break;case"I":e=5;break;case"HI":e=6;break;case"A":e=7;break;case"E":e=8;break;default:e=9}return e}return n(e)-n(t)}),t)for(e.reverse();"?"===e[0].skill;)e.push(e.shift());return e}e.exports={ratingsort:i,alphabeticalsort:o,skillsort:a,sort:function(e,t,l){if("alphabetical"===e)t=o(t,l);else if("rating"===e)t=i(t,l);else if("skill"===e)t=a(t,l);else{if("running"!==e)throw"Unknown sorting method "+e;t=function(e,t){let o=[],i=[],a=[];return e.forEach(e=>{void 0!==e.running?a.push(e):e.flow?i.push(e):o.push(e)}),a=n(a,"running"),t&&a.reverse(),0===a.length?(alert("Flow data has not yet loaded."),e):a=(a=a.concat(i)).concat(o)}(t,l)}return t}}},function(e,t,n){function o(e){let t=e.content,n=e.query;if(e.matchCase||(t=t.toLowerCase(),n=n.toLowerCase()),"contains"===e.type)return t.includes(n);if("matches"===e.type)return t===n;throw"Unknown Search Type "+e.type}function i(e,t,n){for(let i in e){n.content=e[i][t],o(n)||delete e[i]}return e}function a(e){let t;switch(e){case"FW":t=1;break;case"B":t=2;break;case"N":t=3;break;case"LI":t=4;break;case"I":t=5;break;case"HI":t=6;break;case"A":t=7;break;case"E":t=8}return t}function l(e,t){let n=t.query,o=t.type,i=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]);if("from"!==o)throw"Unknown search type"+o;for(let t in e){let n=!1,o=a(e[t].skill);i<=o&&o<=l&&(n=!0,console.log(i,o,l)),n||delete e[t]}}let r=n(8).lambert;function s(e,t){let n=t.distance,o=t.lat,i=t.lon;for(let a in e){let l,s=e[a],d=s.plat||s.tlat||s.hidlat,c=s.plon||s.tlon||s.hidlon;if(d&&c){l=r(o,i,d,c)<n}else l=t.includeUnknown;l||delete e[a]}return e}e.exports={normalSearch:function(e,t){let n=[[],[],[],[],[]];return e.forEach(function(e){-1!==e.tags.toLowerCase().indexOf(t)?-1!==e.name.toLowerCase().indexOf(t)?n[0].push(e):n[1].push(e):-1!==e.name.toLowerCase().indexOf(t)?n[2].push(e):-1!==e.section.toLowerCase().indexOf(t)?n[3].push(e):-1!==e.writeup.toLowerCase().indexOf(t)&&n[4].push(e)}),e=(e=n[0].concat(n[1],n[2],n[3])).concat(n[4])},advancedSearch:function(e,t){console.log(t);for(let n in t){let o=t[n];["name","section","writeup"].includes(n)?i(e,n,o):"skill"===n?l(e,o):"rating"===n||("location"===n?s(e,o):"sort"===n||alert("Unable to search based on "+n))}return e}};let d=document.getElementById("advanced-search-modal");document.getElementById("advanced-search-modal-close").onclick=function(){d.style.display="none"};window.addEventListener("click",function(e){e.target===d&&(d.style.display="none")}),document.getElementById("advancedsearch").addEventListener("click",function(){d.style.display="block"})},function(e,t){e.exports={lambert:function(e,t,n,o){e=e*Math.PI/180,t=t*Math.PI/180,n=n*Math.PI/180,o=o*Math.PI/180;let i=Math.atan(.9966471893352525*Math.tan(e)),a=Math.atan(.9966471893352525*Math.tan(n)),l=Math.acos(Math.sin(i)*Math.sin(a)+Math.cos(i)*Math.cos(a)*Math.cos(o-t)),r=(i+a)/2,s=(a-i)/2;return 3963.1905919430524*(l-.0016764053323737402*((l-Math.sin(l))*(Math.sin(r)**2*Math.cos(s)**2/Math.cos(l/2)**2)+(l+Math.sin(l))*(Math.cos(r)**2*Math.sin(s)**2/Math.sin(l/2)**2)))}}},function(e,t){self.usgsarray={},e.exports.loadUSGS=async function(){var e=[];for(let t=0;t<riverarray.length;t++){let n=riverarray[t].usgs;n&&n.length>7&&n.length<16&&e.push(n)}let t="https://waterservices.usgs.gov/nwis/iv/?format=json&sites="+e.join(",")+"&startDT="+new Date(Date.now()-864e5).toISOString()+"&parameterCd=00060,00065,00010,00045&siteStatus=all",n=await fetch(t);(await n.json()).value.timeSeries.forEach(function(e){let t={};if(t.values=e.values[0].value,0===t.values.length)return void console.log("Empty Array. Skipping");t.units=e.variable.variableDescription;let n=e.sourceInfo.siteCode[0].value;if(!usgsarray[n]){let t={};t.name=e.sourceInfo.siteName,usgsarray[n]=t}let o=e.variable.variableCode[0].value;if("00010"===o&&"Temperature, water, degrees Celsius"===t.units){for(let e=0;e<t.values.length;e++)t.values[e].value=1.8*t.values[e].value+32;t.units="Temperature, water, degrees Fahrenheit"}usgsarray[n][o]=t});for(let e=0;e<ItemHolder.length;e++){let t=ItemHolder[e],n=usgsarray[t.usgs];if(n){let e,o,i=n["00060"],a=n["00065"];i&&(i=i.values),a&&(a=a.values),i&&(e=i[i.length-1].value),a&&(o=a[a.length-1].value),t.feet=o,t.cfs=e,e&&o?t.flow=e+" cfs, "+o+" ft":e?t.flow=i[i.length-1].value+" cfs":o&&(t.flow=a[a.length-1].value+" ft");let l=document.getElementById(t.base+"1"),r=t.expanded;console.log(r);let s=t.create(!0);try{l.parentNode.replaceChild(s,l),r&&(s.dispatchEvent(new Event("click")),-1===navigator.userAgent.toLowerCase().indexOf("google")&&s.dispatchEvent(new Event("click")))}catch(e){}}}}},function(e,t){function n(){let e=document.getElementById("legend");e.getContext("2d").clearRect(0,0,e.width,e.height),e.style.backgroundColor=window.getComputedStyle(document.body).getPropertyValue("background-color");let t,n=parseFloat(window.getComputedStyle(document.getElementById("Rivers").firstChild).getPropertyValue("font-size"));(function(e,t){let n=e.getContext("2d");e.width=document.documentElement.clientWidth,e.height=t;let o=n.createLinearGradient(0,0,e.width,e.height);o.addColorStop(0,"hsl(0,100%,50%,60%)"),o.addColorStop(.08,"hsl(0,100%,50%,60%)");for(let e=0;e<=240;e++)o.addColorStop(.08+e/240*(.92-.08),"hsl("+e+",100%,50%,30%)");o.addColorStop(.92,"hsla(240,100%,50%,60%)"),o.addColorStop(1,"hsla(240,100%,50%,60%)"),n.fillStyle=o,n.fillRect(0,0,e.width,e.height)})(e,t=n>18?20+2*n:n>14.8?10+2*(n*=1.2):10+2*(n*=1.4)),function(e,t){let n=e.getContext("2d");n.fillStyle=window.darkMode?"white":"black";let o=t;n.font=t+"px Arial",n.textAlign="start",n.fillText("Too Low",0,o),n.textAlign="center",n.fillText("Low Flow",.28*e.width,o),n.fillText("Mid Flow",e.width/2,o),n.fillText("High Flow",.72*e.width,o),window.darkMode||(n.fillStyle="white"),n.textAlign="end",n.fillText("Too High",e.width,o,.2*e.width)}(e,n),function(e){let t=e.offsetTop;window.addEventListener("scroll",function(){window.pageYOffset>t?(e.style.position="fixed",e.style.top=0,document.body.style.paddingTop=e.height+"px"):(e.style.position="",e.style.top="",document.body.style.paddingTop=0)})}(e)}window.addEventListener("resize",n),window.addEventListener("orientationchange",n),n()}]);
//# sourceMappingURL=index.js.map